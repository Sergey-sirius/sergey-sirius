<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-07-05T12:15:15+03:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Sirius Blog</title><subtitle>Блог Сергея Хацёла</subtitle><entry><title type="html">Просто о GIT</title><link href="http://localhost:4000/Git/" rel="alternate" type="text/html" title="Просто о GIT" /><published>2019-07-05T00:00:00+03:00</published><updated>2019-07-05T00:00:00+03:00</updated><id>http://localhost:4000/Git</id><content type="html" xml:base="http://localhost:4000/Git/">&lt;p&gt;** Шпаргалка Git **&lt;/p&gt;

&lt;p class=&quot;image-center&quot;&gt;&lt;img src=&quot;http://localhost:4000/images/git-process.png&quot; alt=&quot;git process image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;git commit -a, –all  закоммитить все измененные файлы
git commit&lt;/p&gt;

&lt;p&gt;git add -u, –update  обновить отслеживаемые файлы
git add –all         добавить изменения из всех отслеживаемых и неотслеживаемых файлов&lt;/p&gt;

&lt;p&gt;git push
git pull&lt;/p&gt;

&lt;p&gt;git rebase
git fetch&lt;/p&gt;

&lt;p&gt;git checkout HEAD     копирует файлы текущего коммита на сцену, и в рабочую директорию.
git checkout&lt;/p&gt;

&lt;p&gt;git diff HEAD
git diff              посмотреть изменения между коммитами&lt;/p&gt;</content><author><name></name></author><category term="git" /><category term="main" /><summary type="html">** Шпаргалка Git **</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Мониторинг серверов система Tick Stack</title><link href="http://localhost:4000/Monitoring_TICK_Stack/" rel="alternate" type="text/html" title="Мониторинг серверов система Tick Stack" /><published>2019-05-31T00:00:00+03:00</published><updated>2019-05-31T00:00:00+03:00</updated><id>http://localhost:4000/Monitoring_TICK_Stack</id><content type="html" xml:base="http://localhost:4000/Monitoring_TICK_Stack/">&lt;p&gt;** Мониторинг серверов система Tick Stack **&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/files/main-linux/tick_stack.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Telegraf
Telegraf — управляемый плагином сервер для сбора показателей и отчетности. Telegraf интегрируется с разнообразными метриками, событиями и логами, обращаясь непосредственно к контейнерам и системам, в которых он работает, достает метрики из сторонних API или даже прослушивает показатели через сервисы ConsumerD и Kafka. Он также имеет выходные плагины для отправки показателей во множество других хранилищ данных, служб и query-сообщений, включая InfluxDB, Graphite, OpenTSDB, Datadog, Librato, Kafka, MQTT, NSQ.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;InfluxDB
InfluxDB — Time Series Database, построенная с нуля, для обработки высоких нагрузок на запись и запрос. InfluxDB — это специализированное высокопроизводительное хранилище данных, написанное специально для временных данных (мониторинг DevOps, метрики приложений, данные датчика IoT и аналитика в реальном времени). Оно позволяет сохранять пространство на своем компьютере, настраивая InfluxDB для хранения данных в течение определенного периода времени и по его истечению — автоматического удаления любых нежелательных данных из системы. InfluxDB использует язык запросов, подобный SQL, для взаимодействия с данными.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Chronograf
Chronograf — это административный интерфейс пользователя и механизм визуализации платформы. Он упрощает настройку и обслуживание системы мониторинга и оповещения. Простой в использовании, он включает в себя шаблоны и библиотеки, позволяющие быстро создавать информационные борды с визуализацией данных в режиме реального времени и генерировать правила для алертов и автоматизации.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Kapacitor
Kapacitor — собственный механизм обработки данных. Он может обрабатывать как потоковые, так и пакетные данные от InfluxDB. Kapacitor позволяет подключать собственную пользовательскую логику или пользовательские функции для обработки предупреждений с динамическими порогами, сопоставления показателей для шаблонов, вычисления статистических аномалий и выполнения определенных действий на основе этих предупреждений, таких как динамическая перебалансировка нагрузки. Kapacitor интегрируется с HipChat, OpsGenie, Alerta, Sensu, PagerDuty, Slack и т. д.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Инсталяция
https://portal.influxdata.com/downloads&lt;/p&gt;

&lt;p&gt;1 Telegraf v1.8.3
a) Docker
    docker pull telegraf&lt;/p&gt;

&lt;p&gt;b) ubuntu
  wget https://dl.influxdata.com/telegraf/releases/telegraf_1.8.3-1_amd64.deb
  sudo dpkg -i telegraf_1.8.3-1_amd64.deb&lt;/p&gt;

&lt;p&gt;c) RedHat &amp;amp; CentOS
    wget https://dl.influxdata.com/telegraf/releases/telegraf-1.8.3-1.x86_64.rpm
    sudo yum localinstall telegraf-1.8.3-1.x86_64.rpm&lt;/p&gt;

&lt;p&gt;d) Windows Binaries (64-bit)
    wget https://dl.influxdata.com/telegraf/releases/telegraf-1.8.3_windows_amd64.zip
    unzip telegraf-1.8.3_windows_amd64.zip&lt;/p&gt;

&lt;p&gt;e) Linux Binaries (64-bit)
    wget https://dl.influxdata.com/telegraf/releases/telegraf-1.8.3_linux_amd64.tar.gz
    tar xf telegraf-1.8.3_linux_amd64.tar.gz&lt;/p&gt;

&lt;p&gt;f) Linux Binaries (32-bit)
    wget https://dl.influxdata.com/telegraf/releases/telegraf-1.8.3_linux_i386.tar.gz
    tar xf telegraf-1.8.3_linux_i386.tar.gz&lt;/p&gt;

&lt;p&gt;g) Linux Binaries (ARM)
    wget https://dl.influxdata.com/telegraf/releases/telegraf-1.8.3_linux_armhf.tar.gz
    tar xf telegraf-1.8.3_linux_armhf.tar.gz&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;InfluxDB v1.7.1
a) Docker
 docker pull influxdb&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;b) ubuntu
    wget https://dl.influxdata.com/influxdb/releases/influxdb_1.7.1_amd64.deb
    sudo dpkg -i influxdb_1.7.1_amd64.deb&lt;/p&gt;

&lt;p&gt;c) RedHat &amp;amp; CentOS
    wget https://dl.influxdata.com/influxdb/releases/influxdb-1.7.1.x86_64.rpm
    sudo yum localinstall influxdb-1.7.1.x86_64.rpm&lt;/p&gt;

&lt;p&gt;d) Windows Binaries (64-bit)
    https://dl.influxdata.com/influxdb/releases/influxdb-1.7.1_windows_amd64.zip
    unzip influxdb-1.7.1_windows_amd64.zip&lt;/p&gt;

&lt;p&gt;e) Linux Binaries (64-bit)
    wget https://dl.influxdata.com/influxdb/releases/influxdb-1.7.1_linux_amd64.tar.gz
    tar xvfz influxdb-1.7.1_linux_amd64.tar.gz&lt;/p&gt;

&lt;p&gt;f) Linux Binaries (32-bit)
    wget https://dl.influxdata.com/influxdb/releases/influxdb-1.7.1_linux_i386.tar.gz
    tar xvfz influxdb-1.7.1_linux_i386.tar.gz&lt;/p&gt;

&lt;p&gt;g) Linux Binaries (ARM)
    wget https://dl.influxdata.com/influxdb/releases/influxdb-1.7.1_linux_armhf.tar.gz
    tar xvfz influxdb-1.7.1_linux_armhf.tar.gz&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Chronograf v1.7.3&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;a) Docker
    docker pull quay.io/influxdb/chronograf:1.7.3
b) ubuntu&lt;br /&gt;
    wget https://dl.influxdata.com/chronograf/releases/chronograf_1.7.3_amd64.deb
    sudo dpkg -i chronograf_1.7.3_amd64.deb
c) RedHat &amp;amp; CentOS
    wget https://dl.influxdata.com/chronograf/releases/chronograf-1.7.3.x86_64.rpm
    sudo yum localinstall chronograf-1.7.3.x86_64.rpm
d) Windows Binaries (64-bit)
    https://dl.influxdata.com/chronograf/releases/chronograf-1.7.3_windows_amd64.zip
    unzip chronograf-1.7.3_windows_amd64.zip
e) Linux Binaries (64-bit)
    wget https://dl.influxdata.com/chronograf/releases/chronograf-1.7.3_linux_amd64.tar.gz
    tar xvfz chronograf-1.7.3_linux_amd64.tar.gz
f) Linux Binaries (32-bit)
    wget https://dl.influxdata.com/chronograf/releases/chronograf-1.7.3_linux_i386.tar.gz
    tar xvfz chronograf-1.7.3_linux_i386.tar.gz
g) Linux Binaries (ARM)
    wget https://dl.influxdata.com/chronograf/releases/chronograf-1.7.3_linux_armhf.tar.gz
    tar xvfz chronograf-1.7.3_linux_armhf.tar.gz&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Kapacitor v1.5.1&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;a) Docker
    docker pull kapacitor
b) ubuntu&lt;br /&gt;
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor_1.5.1_amd64.deb
    sudo dpkg -i kapacitor_1.5.1_amd64.deb
c) RedHat &amp;amp; CentOS
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor-1.5.1.x86_64.rpm
    sudo yum localinstall kapacitor-1.5.1.x86_64.rpm
d) Windows Binaries (64-bit)
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor-1.5.1_windows_amd64.zip
    unzip kapacitor-1.5.1_windows_amd64.zip
e) Linux Binaries (64-bit)
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor-1.5.1_linux_amd64.tar.gz
    tar xvfz kapacitor-1.5.1_linux_amd64.tar.gz
f) Linux Binaries (32-bit)
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor-1.5.1_linux_i386.tar.gz
    tar xvfz kapacitor-1.5.1_linux_i386.tar.gz
g) Linux Binaries (ARM)
    wget https://dl.influxdata.com/kapacitor/releases/kapacitor-1.5.1_linux_armhf.tar.gz
    tar xvfz kapacitor-1.5.1_linux_armhf.tar.gz&lt;/p&gt;</content><author><name></name></author><category term="mount hdd" /><category term="main" /><summary type="html">** Мониторинг серверов система Tick Stack **</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Базы данных. Oracle</title><link href="http://localhost:4000/Oracle_RESOURCE/" rel="alternate" type="text/html" title="Базы данных. Oracle" /><published>2019-05-31T00:00:00+03:00</published><updated>2019-05-31T00:00:00+03:00</updated><id>http://localhost:4000/Oracle_RESOURCE</id><content type="html" xml:base="http://localhost:4000/Oracle_RESOURCE/">&lt;p&gt;&lt;a href=&quot;/files/sql/DBA_Oracle_Database_11g_2010.pdf&quot;&gt;Руководство администратора Oracle 11g&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="DBA" /><category term="Oracle" /><summary type="html">Руководство администратора Oracle 11g</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">UML средство проектирования и разработки</title><link href="http://localhost:4000/UML_resources/" rel="alternate" type="text/html" title="UML средство проектирования и разработки" /><published>2019-05-31T00:00:00+03:00</published><updated>2019-05-31T00:00:00+03:00</updated><id>http://localhost:4000/UML_resources</id><content type="html" xml:base="http://localhost:4000/UML_resources/">&lt;p&gt;&lt;a href=&quot;/files/uml/uml_user_guide.pdf&quot;&gt;Руководство пользователя UML. перевод Летуновского 2007&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/files/uml/uml_lection1.pdf&quot;&gt;UML лекции&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="Model" /><category term="UML" /><summary type="html">Руководство пользователя UML. перевод Летуновского 2007</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Установка Jekyll</title><link href="http://localhost:4000/Jekyll_install/" rel="alternate" type="text/html" title="Установка Jekyll" /><published>2019-05-30T00:00:00+03:00</published><updated>2019-05-30T00:00:00+03:00</updated><id>http://localhost:4000/Jekyll_install</id><content type="html" xml:base="http://localhost:4000/Jekyll_install/">&lt;p&gt;Прежде чем мы установим Jekyll, нам нужно убедиться, что у нас есть все необходимые зависимости.&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ruby-dev&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;build-essential&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;Ставим jekyll&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;jekyll&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;создаем проект&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;jekyll&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;siriusblog&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;bundle install&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ruby-bundler&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;bundle&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;запуск сервиса&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;bundle&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;jekyll&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;serve&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;проверяем http://127.0.0.1:4000/&lt;/p&gt;</content><author><name></name></author><category term="Jekyll" /><summary type="html">Прежде чем мы установим Jekyll, нам нужно убедиться, что у нас есть все необходимые зависимости.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Java script ресурсы для самостоятельного изучения</title><link href="http://localhost:4000/javascript_resource/" rel="alternate" type="text/html" title="Java script ресурсы для самостоятельного изучения" /><published>2019-05-30T00:00:00+03:00</published><updated>2019-05-30T00:00:00+03:00</updated><id>http://localhost:4000/javascript_resource</id><content type="html" xml:base="http://localhost:4000/javascript_resource/">&lt;h1 id=&quot;Ресурсы-по-java-script&quot;&gt;Ресурсы по Java Script&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ru/docs/Web/JavaScript/A_re-introduction_to_JavaScript&quot;&gt;Повторное введение JS учебник&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://ru.reactjs.org/&quot;&gt;REACT JavaScript-библиотека для создания пользовательских интерфейсов&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="JavaScript-FOR-ME" /><summary type="html">Ресурсы по Java Script</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/javascript.jpeg" /></entry><entry><title type="html">Python ресурсы для самостоятельного изучения</title><link href="http://localhost:4000/Python_resource/" rel="alternate" type="text/html" title="Python ресурсы для самостоятельного изучения" /><published>2019-05-29T00:00:00+03:00</published><updated>2019-05-29T00:00:00+03:00</updated><id>http://localhost:4000/Python_resource</id><content type="html" xml:base="http://localhost:4000/Python_resource/">&lt;h1 id=&quot;Первая-подборка-на-ресурсы-по-python&quot;&gt;Первая подборка на ресурсы по Python&lt;/h1&gt;

&lt;h2 id=&quot;Видео-подборки-тренингов-python&quot;&gt;Видео подборки тренингов Python&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;h4 id=&quot;Уроки-python-для-начинающих-Гоша-Дударь&quot;&gt;Уроки Python для начинающих Гоша Дударь&lt;/h4&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=n0xtO0x81cg&amp;amp;list=PL0lO_mIqDDFXgfuxOEDTCwsWmKezOaDTu&quot;&gt;&lt;img src=&quot;https://img.youtube.com/vi/n0xtO0x81cg/1.jpg&quot; alt=&quot;Гоша Дударь&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;h4 id=&quot;Лектор-Константин-Зайцев&quot;&gt;Лектор: Константин Зайцев&lt;/h4&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=9rWBsVCzEd8&amp;amp;list=PLwwk4BHih4fgjKq7SVsaQUHbshqaOAhI8&amp;amp;index=1&quot;&gt;&lt;img src=&quot;https://img.youtube.com/vi/3e8Rd5ChZoQ/2.jpg&quot; alt=&quot;Константин Зайцев&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="PYTHON-FOR-ME" /><summary type="html">Первая подборка на ресурсы по Python</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/pythonfeatured.jpg" /></entry><entry><title type="html">Ubuntu отключаем поддержку netplan</title><link href="http://localhost:4000/Disable_netplan/" rel="alternate" type="text/html" title="Ubuntu отключаем поддержку netplan" /><published>2019-02-18T00:00:00+02:00</published><updated>2019-02-18T00:00:00+02:00</updated><id>http://localhost:4000/Disable_netplan</id><content type="html" xml:base="http://localhost:4000/Disable_netplan/">&lt;p&gt;Отключить Netplan&lt;/p&gt;

&lt;p&gt;Netpaln - это средство настройки сети по умолчанию, появившееся в Ubuntu 17.10,
 и если вы хотите отключить его, чтобы вернуться к старым способам настройки сети, 
используйте следующую процедуру. Netplan - это абстракция конфигурации сети YAML 
для различных бэкэндов (NetworkManager, networkd). Это утилита для простой настройки 
сети в системе. Его можно использовать, написав описание YAML необходимых сетевых 
интерфейсов с указанием того, для чего они должны быть настроены. Из этого описания 
будет сгенерирована необходимая конфигурация для выбранного инструмента рендеринга.&lt;/p&gt;

&lt;p&gt;Edit the /etc/default/grub file&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;nano&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;etc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;grub&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add the following line&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;GRUB_CMDLINE_LINUX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&quot;netcfg/do_not_use_netplan=true&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Save and exit the file&lt;/p&gt;

&lt;p&gt;Now update the grub using the following command&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;update-grub&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Вам необходимо установить пакет ifupdown&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ifupdown&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Теперь вы можете добавить все детали интерфейса в /etc/network/interfaces 
файл и перезагрузите компьютер / сервер Ubuntu.&lt;/p&gt;</content><author><name></name></author><category term="ubuntu" /><category term="netplan" /><category term="net" /><summary type="html">Отключить Netplan</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Настройка Mail сервера на Ubuntu</title><link href="http://localhost:4000/Mail_server/" rel="alternate" type="text/html" title="Настройка Mail сервера на Ubuntu" /><published>2019-02-16T00:00:00+02:00</published><updated>2019-02-16T00:00:00+02:00</updated><id>http://localhost:4000/Mail_server</id><content type="html" xml:base="http://localhost:4000/Mail_server/">&lt;p&gt;&lt;em&gt;**&lt;/em&gt;Настройка Почтового сервера сервера&lt;/p&gt;

&lt;p&gt;В принципе дальнейшие команды подразумевают использование sudo&lt;/p&gt;

&lt;p&gt;Пробежимся по основным настройкам&lt;/p&gt;

&lt;p&gt;*1. Хосты hostname and FQDN&lt;/p&gt;

&lt;p&gt;resolv.conf “забывает” настройки nameservers
Можно ввести атрибут запрета на изменение установка 
запрета - $ sudo chattr + i имя_файла
снятие запрета - $ sudo chattr - i имя_файла&lt;/p&gt;

&lt;p&gt;хост hp&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hostnamectl&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;set-hostname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--static&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;/etc/hosts&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hosts&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.0.0.1&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.localdomain&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;localhost&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.0.1.1&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;::1&lt;/span&gt;		&lt;span class=&quot;nt&quot;&gt;localhost6&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.localdomain6&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;localhost6&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;following&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;desirable&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IPv6&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;capable&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hosts&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;::1&lt;/span&gt;     &lt;span class=&quot;nt&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-localhost&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-loopback&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;fe00&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-localnet&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;ff02&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-allnodes&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;ff02&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-allrouters&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;ff02&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::3&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ip6-allhosts&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hostname&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hostname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--fqdn&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;hostname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;etc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;mailname&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;etc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;mailname&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;hp&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Имя хоста в вашей командной оболочке будет адаптировано после перезагрузки&lt;/p&gt;

&lt;p&gt;2 DNS а зачем ?&lt;/p&gt;

&lt;p&gt;Сервисы в вашей системе сильно зависят от DNS-запросов. 
Я настоятельно рекомендую установить Unbound в качестве локального преобразователя 
DNS и -cache! Некоторые провайдеры серверов ограничивают доступ к своим предварительно определенным DNS-распознавателям, что может вызвать проблемы. Особенно Rspamd делает много DNS-запросов в зависимости от загрузки почтовой системы. Кроме того, блочные списки Spamhaus часто можно использовать только с собственными распознавателями DNS (мы собираемся использовать Spamhaus с постэкраном).&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unbound&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Обновите корневой ключ DNSSEC и перезагрузите Unbound сервис:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;su&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&quot;unbound-anchor -a /var/lib/unbound/root.key&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unbound&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;systemctl&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;reload&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unbound&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;если установлен пакет «dnsutils»&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;dig&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;@127&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.0.0.1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e-mag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ua&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;short&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dnssec&lt;/span&gt;
  
  &lt;span class=&quot;n&quot;&gt;external&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;91.219.83.33&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Если команда dig сработала, теперь вы можете установить Unbound в качестве основного преобразователя DNS для вашей почтовой системы:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;resolvconf&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&quot;nameserver 127.0.0.1&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;etc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;resolvconf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;resolv&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.conf.d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;nslookup&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;Server&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;Server&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.0.0.1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;**Теперь у вас есть собственный DNS-распознаватель. Давайте продолжим с настройкой DNS …&lt;/p&gt;

&lt;p&gt;Проверить записи DNS провайдера&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;A&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;91&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.219.83.33&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;imap&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;CNAME&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;CNAME&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;smtp&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;CNAME&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;MX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;… И мы также хотим, чтобы он обрабатывал электронные письма для «domain2» и «domain3»:&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;domain2&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;MX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;domain3&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;86400&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;MX&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(последние три записи должны быть созданы в соответствующих им файлах зон)&lt;/p&gt;

&lt;p&gt;Обратный DNS&lt;/p&gt;

&lt;p&gt;Обратная запись DNS (также называемая «PTR-запись») сопоставляет полное доменное имя с IP-адресом. 
Многие популярные провайдеры электронной почты проверяют записи PTR других почтовых серверов и отказывают в получении электронной почты от них, 
если они не могут найти подходящее доменное имя для их IP-адреса. Вам понадобятся PTR-записи для всех IP-адресов вашего сервера. 
Все они должны указывать на mail.e-mag.com.ua. 
В большинстве случаев обратные записи DNS могут быть установлены через веб-интерфейс вашего хостера или через службу поддержки сервера.&lt;/p&gt;

&lt;p&gt;Пример опроса сервера доменных имен google на доменную зону ya.ru:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;dig&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;@google-public-dns-a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ya&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ru&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Узнать какие есть почтовые сервера имеющие MX записи в DNS:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;dig&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mx&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;PTR&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;dig&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-x&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;91&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.219.83.33&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;DiG&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.11.3-1ubuntu1.3-Ubuntu&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-x&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;91&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.219.83.33&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;cmd&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;Got&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;answer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;HEADER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;opcode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NXDOMAIN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;46021&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;qr&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;rd&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ra&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;QUERY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ANSWER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTHORITY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ADDITIONAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;OPT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;PSEUDOSECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;EDNS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;udp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;4096&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;QUESTION&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;SECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.83.219.91.in-addr.arpa&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;PTR&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTHORITY&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;SECTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;91&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.in-addr.arpa&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;3508&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;SOA&lt;/span&gt;	&lt;span class=&quot;nt&quot;&gt;pri&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.authdns.ripe.net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;dns&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.ripe.net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;1550417273&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;600&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;864000&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;Query&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;81&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;msec&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;SERVER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.0.0.1&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;#53&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.0.0.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;WHEN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;Sun&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;Feb&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:14:23&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;EET&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;2019&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;MSG&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;SIZE&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;rcvd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;114&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;SPF records
Записи SPF были изобретены для поддержки борьбы со спам-серверами. 
К сожалению, это оказалось неправильным представлением, и вы больше не можете полагаться на эти записи. 
SPF описывает, каким почтовым серверам разрешено отправлять электронную почту для домена, а какие нет. 
В некоторых случаях (например, списки рассылки) концепция SPF не работает. Тем не менее, некоторые провайдеры ожидают, 
что вы установите рекорд SPF - если вы этого не сделаете, вы получите некоторое количество баллов за ваш «рейтинг вероятности спама».&lt;/p&gt;

&lt;p&gt;Итак, давайте сделаем компромисс и обеспечим нейтральную запись SPF:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;spf1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;all&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;domain2&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;spf1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;all&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;domain3&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;spf1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:e-mag&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.com.ua&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;all&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;DMARC records&lt;/p&gt;

&lt;p&gt;Записи DMARC устанавливают правила для сторонних почтовых серверов, которые сообщают им, как обращаться с не аутентифицированными 
или неправильно аутентифицированными электронными письмами. Если спамер отправляет поддельное электронное письмо и использует 
ваш домен e-mag.com.ua, принимающий сервер свяжется с DNS и запросит запись DMARC. 
Если он обнаруживает, что SPF или DKIM отказывают (что будет иметь место), сервер будет действовать в соответствии с записью DMARC. 
Это хорошая идея, чтобы отклонить такие электронные письма:&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;_dmarc&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;   &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;DMARC1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;_dmarc&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.domain2.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;   &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;DMARC1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;_dmarc&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.domain3.tld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;   &lt;span class=&quot;nt&quot;&gt;3600&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TXT&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;DMARC1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Вы можете создать свои собственные записи политики DMARC на https://elasticemail.com/dmarc/.&lt;/p&gt;

&lt;p&gt;Set up TLS certificates&lt;/p&gt;

&lt;p&gt;Современный почтовый сервер не может работать серьезно без сертификатов TLS. 
Для этой цели мы будем использовать сертификаты Let Encrypt, поскольку они бесплатны и принимаются всеми браузерами, 
почтовыми клиентами и операционными системами. 
Если у вас уже есть действительные сертификаты, вы можете использовать их вместо.&lt;/p&gt;

&lt;p&gt;Получить новые сертификаты&lt;/p&gt;

&lt;p&gt;Используйте официальный клиент командной строки «certbot» для получения новых сертификатов для вашей почтовой системы:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;certbot&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;certbot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;certonly&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--standalone&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--rsa-key-size&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;4096&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mail&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;imap&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;smtp&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.e-mag.com.ua&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Согласившись с условиями использования и указав свой адрес электронной почты, вы мгновенно получите действительные сертификаты. 
Они сохраняются по адресу: /etc/letsencrypt/live/mail.e-mag.com.ua и действительны для трех имен доменов вашей почтовой системы:
Ваши дополнительные домены «domain2» и «domain3» не должны быть включены в этот сертификат.&lt;/p&gt;

&lt;p&gt;Есть несколько новых файлов, которые вам понадобятся:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;cert.pem: 		Ваш почтовый сертификат&lt;/li&gt;
  &lt;li&gt;chain.pem:		Сертификат CA&lt;/li&gt;
  &lt;li&gt;fullchain.pem:	сертификат почтового сервера + сертификат CA&lt;/li&gt;
  &lt;li&gt;privkey.pem:		Закрытый ключ для сертификата почтового сервера&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Далее будут использоваться только два файла сертификатов.&lt;/p&gt;

&lt;p&gt;Auto-Renewal - Автоматическое продление cronjob:&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;crontab&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;@weekly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;certbot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;renew&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;--pre-hook&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&quot;systemctl stop nginx&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;--post-hook&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&quot;systemctl start nginx&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;--renew-hook&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&quot;systemctl reload nginx; 
systemctl reload dovecot; 
systemctl reload postfix&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;--quiet&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MySQL database setup&lt;/p&gt;

&lt;p&gt;Создайте новую базу данных с именем «vmail»:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;database&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;CHARACTER&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'vmail'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'localhost'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'vmaildbpass'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domains&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;accounts&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;quota&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'0'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'0'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;sendonly&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'0'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domains&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;aliases&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;source_username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;source_domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;destination_username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;destination_domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'0'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;source_username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;source_domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;destination_username&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;destination_domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;FOREIGN&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;source_domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;REFERENCES&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domains&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;tlspolicies&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;policy&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'none'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'may'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'encrypt'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'dane'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'dane-only'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'fingerprint'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'verify'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;'secure'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;UNIQUE&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;vmail-user and vmail-directory&lt;/p&gt;

&lt;p&gt;Все электронные письма и скриптовые файлы сохраняются в специальном каталоге / var / vmail. 
Только связанный пользователь vmail имеет к нему доступ. Dovecot будет использовать эту учетную запись для выполнения 
своих операций в файловой системе. Создать vmail-каталог:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;adduser&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--disabled-login&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--disabled-password&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--home&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;mailboxes&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;sieve&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;global&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chgrp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;770&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;vmail&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><category term="Postfix" /><category term="Ubuntu" /><category term="Mail" /><summary type="html">**Настройка Почтового сервера сервера</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry><entry><title type="html">Как Войти В Docker-Контейнер</title><link href="http://localhost:4000/Entered_in_to_Docker/" rel="alternate" type="text/html" title="Как Войти В Docker-Контейнер" /><published>2019-01-20T00:00:00+02:00</published><updated>2019-01-20T00:00:00+02:00</updated><id>http://localhost:4000/Entered_in_to_Docker</id><content type="html" xml:base="http://localhost:4000/Entered_in_to_Docker/">&lt;p&gt;** Как Войти В Docker-Контейнер **&lt;/p&gt;

&lt;p&gt;Чтобы войти в контейнер, нужно узнать имя или ID контейнера, выполните команду:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ps&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;CONTAINER&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ID&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;IMAGE&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;COMMAND&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;CREATED&lt;/span&gt;      &lt;span class=&quot;nt&quot;&gt;STATUS&lt;/span&gt;      &lt;span class=&quot;nt&quot;&gt;PORTS&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;NAMES&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;72ca2488b353&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;my_image&lt;/span&gt;          &lt;span class=&quot;nt&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hours&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;ago&lt;/span&gt;  &lt;span class=&quot;nt&quot;&gt;Up&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;hours&lt;/span&gt;         &lt;span class=&quot;nt&quot;&gt;my_container&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Войдите в Docker-контейнер по имени или ID контейнера и запустите интерактивную оболочку bash:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;72ca2488b353&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;bash&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Если внутри контейнера не удастся найти оболочку bash, вы увидите что-то вроде следующего сообщения:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;oci&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;runtime&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;failed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;container_linux&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.go&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:265&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;starting&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;process&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;caused&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;«&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;\»&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;bash&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\»&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;executable&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;»&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;В этом случае вы можете войти в Docker-контейнер и затупить простую оболочку sh:&lt;/p&gt;
&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;72ca2488b353&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;sh&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><category term="docker" /><summary type="html">** Как Войти В Docker-Контейнер **</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="http://localhost:4000/images/matrix.jpg" /></entry></feed>