---
layout: post
title: Глава 37. Информационная схема
description: ""
tags: [PostgreSQL, PostgreSQL_Book_11]
image:
  feature: abstract-11.jpg
  #credit: dargadgetz
  #creditlink: http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/
share: true
modified: 2018-12-03 T15:14:43-04:00
---

Глава 37. Информационная схема


Информационная схема состоит из набора представлений, содержащих информацию об объектах,
определённых в текущей базе данных. Информационная схема описана в стандарте SQL и поэтому
можно рассчитывать на её переносимость и стабильность — в отличие от системных каталогов,
которые привязаны к PostgreSQL, и моделируются, отталкиваясь от реализации. Представления
информационной схемы, однако, не содержат информацию о функциях, присущих исключительно
PostgreSQL; чтобы получить информацию о них, необходимо обратиться к системным каталогам
или другим специфическим представлениям PostgreSQL.
Примечание
Когда из базы данных запрашивается информация об ограничениях, возможна ситуа-
ция, когда соответствующий стандарту запрос, который должен возвращать одну стро-
ку, возвращает несколько. Это связано с тем, что стандарт SQL требует, чтобы имена
ограничений были уникальными в схеме, но в PostgreSQL такого требования нет. Име-
на ограничений, которые PostgreSQL генерирует автоматически, не должны дублиро-
ваться в одной схеме, но сами пользователи могут назначить подобные дублирующие-
ся имена.
Эта проблема может проявиться при обращении к таким представлениям ин-
формационной схемы, как check_constraint_routine_usage, check_constraints,
domain_constraints и referential_constraints. В некоторых других представле-
ниях она могла бы тоже иметь место, но они содержат имя таблицы, помо-
гающее различить дублирующиеся строки, например: constraint_column_usage,
constraint_table_usage, table_constraints.
37.1. Схема
Информационная схема сама по себе — это схема с именем information_schema. Данная схема
автоматически доступна во всех базах данных. Владельцем этой схемы является начальный поль-
зователь баз данных в кластере, и этот пользователь, естественно, имеет все права в ней, включая
возможность её удалить (хотя достигаемая при этом экономия пространства минимальна).
По умолчанию информационная схема отсутствует в пути поиска схем, так что ко всем объектам в
ней нужно обращаться по полным именам. Так как имена некоторых объектов в информационной
схеме довольно распространённые и могут встречаться и в пользовательских приложениях, будьте
осторожны, добавляя информационную схему в путь поиска.
37.2. Типы данных
Столбцы в представлениях информационной схемы имеют специальные типы данных, определён-
ные в информационной схеме. Они определены как простые домены поверх обычных встроенных
типов. Задействовать эти типы вне информационной схемы не следует, но тем не менее, приложе-
ния, выбирающие данные из информационной схеме должны быть готовы работать с ними.
Это следующие типы:
cardinal_number
Неотрицательное целое.
character_data
Строка символов (без определённого ограничения по длине).
sql_identifier
Строка символов. Этот тип применяется для идентификаторов SQL, тогда как тип
character_data для всех остальных видов текстовых данных.
939Информационная схема
time_stamp
Домен на базе типа timestamp with time zone
yes_or_no
Домен символьной строки, который принимает либо YES, либо NO. Этот домен применяется для
представления булевых данных (истина/ложь, true/false) в информационной схеме. (Информа-
ционная схема была введена до появления в стандарте SQL типа boolean, поэтому данный до-
мен необходим для сохранения обратной совместимости информационной схемы.)
Все столбцы в информационной схеме имеют один из этих пяти типов.
37.3. information_schema_catalog_name
Таблица information_schema_catalog_name всегда содержит одну строку и один столбец с именем
текущей базы данных (текущий каталог, в терминологии SQL).
Таблица 37.1. Столбцы information_schema_catalog_name
Имя Тип данных Описание
catalog_name sql_identifier Имя базы данных, содержащей
эту информационную схему
37.4. administrable_role_authorizations
Представление administrable_role_authorizations описывает все роли, для которых текущий
пользователь является администратором.
Таблица 37.2. Столбцы administrable_role_authorizations
Имя Тип данных Описание
grantee sql_identifier Имя роли, которой было разре-
шено участие в целевой роли (
может быть текущий пользова-
тель, либо другая роль, в случае
вложенного членства)
role_name sql_identifier Имя целевой роли
is_grantable yes_or_no Всегда YES
37.5. applicable_roles
Представление applicable_roles описывает все роли, права которых может использовать текущий
пользователь. Это означает, что существует некоторая цепочка ролей от текущего пользователя к
целевой роли. Роль самого пользователя также считается применимой. Набор применимых ролей
обычно используется для проверки разрешений.
Таблица 37.3. Столбцы applicable_roles
Имя Тип данных Описание
grantee sql_identifier Имя роли, которой было разре-
шено участие в целевой роли (
может быть текущий пользова-
тель, либо другая роль, в случае
вложенного членства)
role_name sql_identifier Имя целевой роли
is_grantable yes_or_no YES, если субъект является ад-
министратором для этой роли,
или NO в противном случае
940Информационная схема
37.6. attributes
Представление attributes содержит информацию об атрибутах составных типов данных, опреде-
лённых в базе. (Заметьте, что представление не даёт информацию о столбцах таблицы, которые
иногда называются атрибутами в контекстах PostgreSQL.) В нём показываются только те атрибу-
ты, к которым имеет доступ текущий пользователь (являясь владельцем или имея некоторое право
для использования типа).
Таблица 37.4. Столбцы attributes
Имя Тип данных Описание
udt_catalog sql_identifier Имя базы данных, содержащей
тип данных (всегда текущая ба-
за)
udt_schema sql_identifier Имя схемы, содержащей тип
данных
udt_name sql_identifier Имя типа данных
attribute_name sql_identifier Имя атрибута
ordinal_position cardinal_number Порядковый номер атрибута
внутри типа данных (нумерация
начинается с 1)
attribute_default character_data Выражение по умолчанию для
атрибута
is_nullable yes_or_no YES, если атрибут может содер-
жать NULL, или NO, если он не
принимает NULL
data_type character_data Тип данных атрибута, если это
встроенный тип, либо ARRAY,
если это массив (в этом слу-
чае обратитесь к представле-
нию element_types ), иначе —
USER-DEFINED (в этом случае
тип определяется в attribute_
udt_name
и связанных столб-
цах).
character_maximum_length cardinal_number Если в data_type указан тип
текстовой или битовой строки,
это поле задаёт её объявленную
максимальную длину; NULL для
всех других типов данных, ли-
бо если максимальная длина не
объявлена.
character_octet_length cardinal_number Если в data_type указан тип
символьной строки, это поле за-
даёт её максимально возмож-
ный размер в октетах (байтах);
NULL для всех других типов
данных. Максимальный размер
в октетах зависит от объявлен-
ной максимальной длины в сим-
волах (см. выше) и от кодировки
сервера.
941Информационная схема
Имя Тип данных Описание
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки атрибута (
это всегда текущая база), ли-
бо NULL, если это правило по
умолчанию или тип данных ат-
рибута несортируемый
collation_schema sql_identifier Имя схемы, содержащей пра-
вило сортировки атрибута, ли-
бо NULL, если это правило по
умолчанию или тип данных ат-
рибута несортируемый
collation_name sql_identifier Имя правила сортировки атри-
бута, либо NULL, если это пра-
вило по умолчанию или атрибут
несортируемый
numeric_precision cardinal_number Если в data_type указан чис-
ловой тип, этот столбец со-
держит точность (объявленную
или неявную) типа для этого
атрибута. Точность определя-
ет число значащих цифр. Она
может выражаться в десятич-
ных (по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
numeric_precision_radix cardinal_number Если в data_type указан чис-
ловой тип, в этом столбце опре-
деляется, по какому основанию
задаются значения в столбцах
numeric_precision и numeric_
scale . Возможные варианты: 2
или 10. Для всех других типов
данных этот столбец содержит
NULL.
numeric_scale cardinal_number Если в data_type указан точ-
ный числовой тип, этот стол-
бец содержит масштаб (объяв-
ленный или неявный) типа для
этого атрибута. Масштаб опре-
деляет число значащих цифр
справа от десятичной точки. Он
942Информационная схема
Имя Тип данных Описание
может выражаться в десятич-
ных (по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
datetime_precision cardinal_number Если в data_type указан тип
даты, времени, отметки време-
ни или интервала, этот стол-
бец содержит точность (объяв-
ленную или неявную) в долях
секунды типа этого атрибута,
то есть число десятичных цифр,
сохраняемых после десятичной
точки в значении секунд. Для
всех других типов данных этот
столбец содержит NULL.
interval_type character_data Если в data_type указан тип
интервала, этот столбец опреде-
ляет, какие поля принимает ин-
тервал в этом атрибуте, напри-
мер: YEAR TO MONTH, DAY TO
SECOND и т. д. Если ограничения
для полей не заданы (то есть,
интервал принимает все поля),
и для любых других типов дан-
ных это поле содержит NULL.
interval_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL (см. поле datetime_
precision , определяющее точ-
ность в долях секунды для типов
интервалов)
attribute_udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных атрибута
(всегда текущая база)
attribute_udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип данных атрибута
attribute_udt_name sql_identifier Имя типа данных атрибута
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
943Информационная схема
Имя Тип данных Описание
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных столбца, уникаль-
ный среди всех дескрипторов
типов, относящихся к таблице.
Он в основном полезен для со-
единения с другими экземпля-
рами таких идентификаторов. (
Конкретный формат идентифи-
катора не определён и не га-
рантируется, что он останется
неизменным в будущих верси-
ях.)
is_derived_reference_
attribute yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
Обратитесь также к описанию Раздел  37.16, представлению с похожей структурой, за дополни-
тельной информацией о некоторых столбцах.
37.7. character_sets
Представление character_sets описывает наборы символов, доступные в текущей базе данных.
Так как PostgreSQL не поддерживает несколько наборов символов в одной базе данных, этот набор
показывает только один набор, соответствующий кодировке базы.
Примите к сведению следующие термины, принятые в стандарте SQL:
совокупность символов
Абстрактная коллекция символов, например UNICODE, UCS или LATIN1. Не существует в виде
SQL-объекта, но показывается в этом представлении.
форма кодировки символов
Кодировка некоторой совокупности символов. Для большинства устаревших совокупностей ис-
пользуется только одна кодировка, так что эта кодировка не имеет отдельного имени (напри-
мер, LATIN1 — форма кодировки, применимая к совокупности LATIN1). Но например, Unicode
имеет формы кодировки UTF8, UTF16 и т. д. (не все они поддерживаются в PostgreSQL). Формы
кодировки не существуют в виде SQL-объектов, но показываются в этом представлении.
набор символов
Именованный SQL-объект, определяющий совокупность и кодировку символов, а также прави-
ло сортировки по умолчанию. Предопределённый набор символов обычно называется так же,
как форма кодировки, но пользователи могут определить другие имена. Например, набору сим-
волов UTF8 обычно соответствует совокупность символов UCS, форма кодировки UTF8 и некото-
рое правило сортировки по умолчанию.
Вы можете считать, что «кодировка» в PostgreSQL определяет набор или форму кодировки симво-
лов. Она имеет такое же имя и может быть только одной в определённой базе.
Таблица 37.5. Столбцы character_sets
Имя Тип данных Описание
character_set_catalog sql_identifier Наборы символов в настоящее
время не представлены в виде
объектов схемы, так что этот
столбец содержит NULL.
944Информационная схема
Имя Тип данных Описание
character_set_schema sql_identifier Наборы символов в настоящее
время не представлены в виде
объектов схемы, так что этот
столбец содержит NULL.
character_set_name sql_identifier Имя набора символов, в настоя-
щее время в качестве этого име-
ни показывается имя кодировки
базы данных
character_repertoire sql_identifier Совокупность символов — UCS
для кодировки UTF8, либо про-
сто имя кодировки
form_of_use sql_identifier Форма кодировки символов, то
же, что и кодировка базы дан-
ных
default_collate_catalog sql_identifier Имя базы данных, содержащей
правило сортировки по умолча-
нию (всегда текущая база, если
это правило установлено)
default_collate_schema sql_identifier Имя схемы, содержащей прави-
ло сортировки по умолчанию
default_collate_name sql_identifier Имя правила сортировки по
умолчанию. Правилом сорти-
ровки по умолчанию считается
правило, соответствующее па-
раметрам COLLATE и CTYPE теку-
щей базы данных. Если такого
правила нет, данный столбец и
связанные столбцы схемы и ка-
талога содержат NULL.
37.8. check_constraint_routine_usage
Представление check_constraint_routine_usage описывает подпрограммы (функции и процеду-
ры), участвующие в проверках ограничений. В нём показываются только те подпрограммы, кото-
рые принадлежат текущей активной роли.
Таблица 37.6. Столбцы check_constraint_routine_usage
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
945Информационная схема
37.9. check_constraints
Представление check_constraints показывает все ограничения-проверки, либо определённые для
таблицы или домена, либо принадлежащие текущей активной роли. (Владелец таблицы или домена
является владельцем ограничения.)
Таблица 37.7. Столбцы check_constraints
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
check_clause character_data Выражение проверки для огра-
ничения
37.10. collations
Представление collations показывает правила сортировки, доступные в текущей базе данных.
Таблица 37.8. Столбцы collations
Имя Тип данных Описание
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки (всегда те-
кущая база)
collation_schema sql_identifier Имя схемы, содержащей прави-
ло сортировки
collation_name sql_identifier Имя правила сортировки
pad_attribute character_data Всегда NO PAD (Альтернативный
вариант PAD SPACE в PostgreSQL
не поддерживается.)
37.11. collation_character_set_applicability
Представление collation_character_set_applicability показывает, к каким наборам символов
применимы доступные правила сортировки. В PostgreSQL в базе данных может быть только один
набор символов (см. описание в Разделе 37.7), так что это представление даёт не так много полез-
ной информации.
Таблица 37.9. Столбцы collation_character_set_applicability
Имя Тип данных Описание
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки (всегда те-
кущая база)
collation_schema sql_identifier Имя схемы, содержащей прави-
ло сортировки
collation_name sql_identifier Имя правила сортировки
character_set_catalog sql_identifier Наборы символов в настоящее
время не представлены в виде
объектов схемы, так что этот
столбец содержит NULL
946Информационная схема
Имя Тип данных Описание
character_set_schema sql_identifier Наборы символов в настоящее
время не представлены в виде
объектов схемы, так что этот
столбец содержит NULL
character_set_name sql_identifier Имя набора символов
37.12. column_domain_usage
Представление column_domain_usage описывает все столбцы (таблиц или представлений), которые
используют какие-либо домены, определённые в базе данных и принадлежащие текущей активной
роли.
Таблица 37.10. Столбцы column_domain_usage
Имя Тип данных Описание
domain_catalog sql_identifier Имя базы данных, содержащей
домен (всегда текущая база)
domain_schema sql_identifier Имя схемы, содержащей домен
domain_name sql_identifier Имя домена
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
column_name sql_identifier Имя столбца
37.13. column_options
Представление column_options показывает все параметры, определённые для столбцов сторонней
таблицы в текущей базе данных. В нём отражаются только те столбцы сторонних таблиц, к которым
имеет доступ текущий пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.11. Столбцы column_options
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
стороннюю таблицу (всегда те-
кущая база)
table_schema sql_identifier Имя схемы, содержащей сто-
роннюю таблицу
table_name sql_identifier Имя сторонней таблицы
column_name sql_identifier Имя столбца
option_name sql_identifier Имя параметра
option_value character_data Значение параметра
37.14. column_privileges
Представление column_privileges описывает все права, назначенные текущей активной роли или
текущей активной ролью для столбцов. Оно содержит отдельную строку для каждой комбинации
столбца, праводателя и правообладателя.
Если право даётся для всей таблицы, оно будет показываться как право для каждого столбца, но
только для типов прав, применимых к столбцам: SELECT, INSERT, UPDATE, REFERENCES.
947Информационная схема
Таблица 37.12. Столбцы column_privileges
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
table_catalog sql_identifier Имя базы данных, содержащей
таблицу с этим столбцом (все-
гда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу с этим столбцом
table_name sql_identifier Имя таблицы с этим столбцом
column_name sql_identifier Имя столбца
privilege_type character_data Тип права: SELECT, INSERT,
UPDATE или REFERENCES
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.15. column_udt_usage
Представление column_udt_usage описывает все столбцы, которые используют типы данных, при-
надлежащие текущей активной роли. Заметьте, что в PostgreSQL встроенные типы данных не от-
личаются от определённых пользователем, так что в этом представлении выводятся и они. За по-
дробностями обратитесь к Разделу 37.16.
Таблица 37.13. Столбцы column_udt_usage
Имя Тип данных Описание
udt_catalog sql_identifier Имя базы данных, в которой
определён тип (если примени-
мо, нижележащий тип домена)
столбца (всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип (если применимо, ниже-
лежащий тип домена) столбца (
всегда текущая база)
udt_name sql_identifier Имя типа данных столбца (если
применимо, нижележащий тип
домена)
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
column_name sql_identifier Имя столбца
37.16. columns
Представление columns содержит информацию обо всех столбцах таблиц (или столбцах представ-
лений) в базе данных. Системные столбцы (oid и т. д.) в нём не отображаются. В нём показываются
948Информационная схема
только те столбцы, к которым имеет доступ текущий пользователь (являясь владельцем или имея
некоторые права).
Таблица 37.14. Столбцы columns
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
column_name sql_identifier Имя столбца
ordinal_position cardinal_number Порядковый номер столбца в
таблице (нумерация начинает-
ся с 1)
column_default character_data Выражение по умолчанию для
столбца
is_nullable yes_or_no YES, если столбец может содер-
жать NULL, или NO, если он не
принимает NULL. Не будет при-
нимать NULL столбец с ограни-
чением не-NULL, но возможны
и другие варианты.
data_type character_data Тип данных столбца, если это
встроенный тип, либо ARRAY,
если это массив (в этом слу-
чае обратитесь к представле-
нию element_types ), иначе —
USER-DEFINED (в этом случае тип
определяется в udt_name и свя-
занных столбцах). Если стол-
бец основан на домене, данный
столбец показывает нижележа-
щий тип домена (а сам домен
показывается в domain_name и
связанных столбцах).
character_maximum_length cardinal_number Если в data_type указан тип
текстовой или битовой строки,
это поле задаёт её объявленную
максимальную длину; NULL для
всех других типов данных, ли-
бо если максимальная длина не
объявлена.
character_octet_length cardinal_number Если в data_type указан тип
символьной строки, это поле за-
даёт её максимально возмож-
ный размер в октетах (байтах);
NULL для всех других типов
данных. Максимальный размер
в октетах зависит от объявлен-
ной максимальной длины в сим-
волах (см. выше) и от кодировки
сервера.
949Информационная схема
Имя Тип данных Описание
numeric_precision cardinal_number Если в data_type указан чис-
ловой тип, этот столбец со-
держит точность (объявленную
или неявную) типа для целево-
го столбца. Точность определя-
ет число значащих цифр. Она
может выражаться в десятич-
ных (по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
numeric_precision_radix cardinal_number Если в data_type указан чис-
ловой тип, в этом столбце опре-
деляется, по какому основанию
задаются значения в столбцах
numeric_precision и numeric_
scale . Возможные варианты: 2
или 10. Для всех других типов
данных этот столбец содержит
NULL.
numeric_scale cardinal_number Если в data_type указан точ-
ный числовой тип, этот столбец
содержит масштаб (объявлен-
ный или неявный) типа для це-
левого столбца. Масштаб опре-
деляет число значащих цифр
справа от десятичной точки. Он
может выражаться в десятич-
ных (по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
datetime_precision cardinal_number Если в data_type указан тип
даты, времени, отметки време-
ни или интервала, этот столбец
содержит точность (объявлен-
ную или неявную) в долях се-
кунды типа для целевого столб-
ца, то есть число десятичных
цифр, сохраняемых после деся-
тичной точки в значении се-
кунд. Для всех других типов
данных этот столбец содержит
NULL.
interval_type character_data Если в data_type указан тип
интервала, этот столбец опреде-
ляет, какие поля принимает ин-
тервал в целевом столбце, на-
пример: YEAR TO MONTH, DAY TO
SECOND и т. д. Если ограничения
950Информационная схема
Имя Тип данных Описание
для полей не заданы (то есть,
интервал принимает все поля),
и для любых других типов дан-
ных это поле содержит NULL.
interval_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL (см. поле datetime_
precision , определяющее точ-
ность в долях секунды для типов
интервалов)
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки столбца (
это всегда текущая база), ли-
бо NULL, если это правило
по умолчанию или тип данных
столбца несортируемый
collation_schema sql_identifier Имя схемы, содержащей пра-
вило сортировки столбца, ли-
бо NULL, если это правило
по умолчанию или тип данных
столбца несортируемый
collation_name sql_identifier Имя правила сортировки столб-
ца, либо NULL, если это прави-
ло по умолчанию или тип дан-
ных столбца несортируемый
domain_catalog sql_identifier Если целевой столбец имеет тип
домена, этот столбец содержит
имя базы данных, в которой
определён домен (всегда теку-
щая база), иначе NULL.
domain_schema sql_identifier Если целевой столбец имеет тип
домена, этот столбец содержит
имя схемы, в которой определён
домен, иначе NULL.
domain_name sql_identifier Если целевой столбец имеет тип
домена, этот столбец содержит
имя домена, иначе NULL.
udt_catalog sql_identifier Имя базы данных, в которой
определён тип (если примени-
мо, нижележащий тип домена)
столбца (всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип (если применимо, ниже-
951Информационная схема
Имя Тип данных Описание
лежащий тип домена) столбца (
всегда текущая база)
udt_name sql_identifier Имя типа данных столбца (если
применимо, нижележащий тип
домена)
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных столбца, уникаль-
ный среди всех дескрипторов
типов, относящихся к таблице.
Он в основном полезен для со-
единения с другими экземпля-
рами таких идентификаторов. (
Конкретный формат идентифи-
катора не определён и не га-
рантируется, что он останется
неизменным в будущих верси-
ях.)
is_self_referencing yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_identity yes_or_no Если целевой столбец является
столбцом идентификации, зна-
чение YES, иначе — NO.
identity_generation character_data Если целевой столбец яв-
ляется столбцом идентифика-
ции, значение ALWAYS или BY
DEFAULT, отражающее опреде-
ление столбца.
identity_start character_data Если целевой столбец является
столбцом идентификации, на-
чальное значение внутренней
последовательности, иначе —
NULL.
identity_increment character_data Если целевой столбец явля-
ется столбцом идентификации,
шаг внутренней последователь-
ности, иначе — NULL.
identity_maximum character_data Если целевой столбец является
столбцом идентификации, мак-
симальное значение внутрен-
952Информационная схема
Имя Тип данных Описание
ней последовательности, иначе
— NULL.
identity_minimum character_data Если целевой столбец является
столбцом идентификации, ми-
нимальное значение внутрен-
ней последовательности, иначе
— NULL.
identity_cycle yes_or_no Если целевой столбец является
столбцом идентификации, YES
показывает, что внутренняя по-
следовательность зацикливает-
ся, NO — не зацикливается, ина-
че — NULL.
is_generated character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
generation_expression character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_updatable yes_or_no YES, если столбец допускает из-
менение, или NO в противном
случае (столбцы в базовых таб-
лицах всегда изменяемые, но
в представлениях — не обяза-
тельно)
Так как типы данных могут определяться в SQL множеством способов и PostgreSQL добавляет
дополнительные варианты, представление типов в информационной схеме может быть довольно
сложным. Столбец data_type предназначен для идентификации нижележащего встроенного ти-
па столбца. В PostgreSQL это означает, что данный тип определён в схеме системного каталога
pg_catalog. Этот столбец может быть полезным, если приложение способно особым образом вос-
принимать встроенные типы (например, форматировать числовые типы по-другому или задейство-
вать данные в столбцах точности). Столбцы udt_name, udt_schema и udt_catalog всегда указывают
на нижележащий тип данных столбца, даже если столбец основан на домене. (Так как в PostgreSQL
встроенные типы не отличаются от определённых пользователем, в этом представлении выводят-
ся и они. Это расширение стандарта SQL.) Эти столбцы должны учитываться, когда приложению
нужно обрабатывать данные в зависимости от типа, так как в этом случае не важно, основан ли
столбец на домене. Если столбец основан на домене, на него указывают столбцы domain_name,
domain_schema и domain_catalog. Если вы хотите связать столбцы с их типами данных и обработать
домены как отдельные типы, вы можете записать coalesce(domain_name, udt_name) и т. п.
37.17. constraint_column_usage
Представление constraint_column_usage описывает все столбцы в текущей базе данных, связан-
ные с некоторым ограничением. В нём показываются только столбцы таблиц, принадлежащих те-
кущей активной роли. Для ограничений-проверок это представление содержит столбцы, задей-
ствованные в выражении проверки. Для ограничений внешнего ключа оно содержит столбцы, на
которые ссылается внешний ключ, а для ограничений уникальности или первичного ключа — огра-
ничиваемые столбцы.
Таблица 37.15. Столбцы constraint_column_usage
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
таблицу со столбцом, задейство-
953Информационная схема
Имя Тип данных Описание
ванным в некотором ограниче-
нии (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу со столбцом, задействован-
ным в некотором ограничении
table_name sql_identifier Имя таблицы со столбцом,
задействованным в некотором
ограничении
column_name sql_identifier Имя столбца, задействованного
в некотором ограничении
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
37.18. constraint_table_usage
Представление constraint_table_usage описывает все таблицы в текущей базе данных, связан-
ные с некоторым ограничением и принадлежащие текущей активной роли. (Это отличается от
представления table_constraints, в котором показываются все ограничения таблиц с таблица-
ми, для которых они определены.) Для ограничений внешнего ключа это представление показы-
вает таблицу, на которую ссылается ограничение. Для ограничений уникальности или первичного
ключа в этом представлении показывается таблица, которой принадлежит ограничение. Ограни-
чения-проверки и ограничения не-NULL в нём не отражаются.
Таблица 37.16. Столбцы constraint_table_usage
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, которая со-
держит таблицу, задействован-
ную некоторым ограничением (
всегда текущая база)
table_schema sql_identifier Имя схемы, которая содер-
жит таблицу, задействованную
некоторым ограничением
table_name sql_identifier Имя таблицы, задействованной
некоторым ограничением
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
37.19. data_type_privileges
Представление data_type_privileges описывает все дескрипторы типов данных, к которым имеет
доступ текущий пользователь, являясь их владельцем или имея некоторые права для них. Дескрип-
тор типа данных формируется, когда тип данных задействуется в определении столбца таблицы,
домена или функции (в качестве типа параметра или результата), и хранит некоторую информацию
954Информационная схема
о том, как этот тип используется в данном случае (например, объявленную максимальную длину,
если это применимо). Каждому дескриптору типа данных назначается уникальный идентифика-
тор, уникальный среди всех дескрипторов типов, назначаемых одному объекту (таблица, домен,
функция). Это представление, вероятно, не полезно для приложений, но на его базе определены
некоторые другие представления в информационной схеме.
Таблица 37.17. Столбцы data_type_privileges
Имя Тип данных Описание
object_catalog sql_identifier Имя базы данных, содержащей
описываемый объект (всегда те-
кущая база)
object_schema sql_identifier Имя схемы, содержащей описы-
ваемый объект
object_name sql_identifier Имя описываемого объекта
object_type character_data Тип описываемого объекта:
TABLE (дескриптор типа данных
относится к столбцу этой таб-
лицы), DOMAIN (дескриптор ти-
па данных относится к домену)
или ROUTINE (дескриптор типа
данных относится к типу дан-
ных параметра или результата
функции).
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных, уникальный сре-
ди дескрипторов типов для это-
го же объекта.
37.20. domain_constraints
Представление domain_constraints показывает все ограничения, принадлежащие доменам, опре-
делённым в текущей базе данных. В нём отражаются только те домены, к которым имеет доступ
текущий пользователь (являясь владельцем или имея некоторые права).
Таблица 37.18. Столбцы domain_constraints
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
domain_catalog sql_identifier Имя базы данных, содержащей
домен (всегда текущая база)
domain_schema sql_identifier Имя схемы, содержащей домен
domain_name sql_identifier Имя домена
is_deferrable yes_or_no YES, если ограничение отклады-
ваемое, или NO в противном слу-
чае
initially_deferred yes_or_no YES, если ограничение отклады-
ваемое и отложенное изначаль-
но, или NO в противном случае
955Информационная схема
37.21. domain_udt_usage
Представление domain_udt_usage описывает все домены, которые используют типы данных, при-
надлежащие текущей активной роли. Заметьте, что в PostgreSQL встроенные типы данных не от-
личаются от определённых пользователем, так что в этом представлении выводятся и они.
Таблица 37.19. Столбцы domain_udt_usage
Имя Тип данных Описание
udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных домена (
всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип данных домена
udt_name sql_identifier Имя типа данных домена
domain_catalog sql_identifier Имя базы данных, содержащей
домен (всегда текущая база)
domain_schema sql_identifier Имя схемы, содержащей домен
domain_name sql_identifier Имя домена
37.22. domains
Представление domains показывает все домены, определённые в текущей базе данных. В нём по-
казываются только те домены, к которым имеет доступ текущий пользователь (являясь владель-
цем или имея некоторые права).
Таблица 37.20. Столбцы domains
Имя Тип данных Описание
domain_catalog sql_identifier Имя базы данных, содержащей
домен (всегда текущая база)
domain_schema sql_identifier Имя схемы, содержащей домен
domain_name sql_identifier Имя домена
data_type character_data Тип данных домена, если это
встроенный тип, либо ARRAY,
если это массив (в этом слу-
чае обратитесь к представле-
нию element_types ), иначе —
USER-DEFINED (в этом случае тип
определяется в udt_name и свя-
занных столбцах).
character_maximum_length cardinal_number Если домен имеет тип тексто-
вой или битовой строки, это по-
ле задаёт её объявленную мак-
симальную длину; NULL для
всех других типов данных, или
если максимальная длина не
объявлена.
character_octet_length cardinal_number Если домен имеет тип сим-
вольной строки, это поле за-
даёт её максимально возмож-
ный размер в октетах (байтах);
NULL для всех других типов
данных. Максимальный размер
956Информационная схема
Имя Тип данных Описание
в октетах зависит от объявлен-
ной максимальной длины в сим-
волах (см. выше) и от кодировки
сервера.
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки домена (
это всегда текущая база), ли-
бо NULL, если это правило
по умолчанию или тип домена
несортируемый
collation_schema sql_identifier Имя схемы, содержащей пра-
вило сортировки домена, ли-
бо NULL, если это правило
по умолчанию или тип домена
несортируемый
collation_name sql_identifier Имя правила сортировки доме-
на, либо NULL, если это прави-
ло по умолчанию или тип доме-
на несортируемый
numeric_precision cardinal_number Если домен имеет числовой
тип, этот столбец содержит точ-
ность (объявленную или неяв-
ную) типа для этого доме-
на. Точность определяет чис-
ло значащих цифр. Она мо-
жет выражаться в десятичных
(по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
numeric_precision_radix cardinal_number Если домен имеет числовой
тип, в этом столбце опреде-
ляется, по какому основанию
задаются значения в столбцах
numeric_precision и numeric_
scale . Возможные варианты:
2 и 10. Для всех других типов
данных этот столбец содержит
NULL.
numeric_scale cardinal_number Если домен имеет точный чис-
ловой тип, этот столбец со-
держит масштаб (объявленный
957Информационная схема
Имя Тип данных Описание
или неявный) типа для это-
го домена. Масштаб определя-
ет число значащих цифр спра-
ва от десятичной точки. Он
может выражаться в десятич-
ных (по основанию 10) или дво-
ичных (по основанию 2) циф-
рах, согласно столбцу numeric_
precision_radix . Для всех
других типов данных этот стол-
бец содержит NULL.
datetime_precision cardinal_number Если в data_type указан тип
даты, времени, отметки време-
ни или интервала, этот стол-
бец содержит точность (объяв-
ленную или неявную) в долях
секунды типа для этого домена,
то есть число десятичных цифр,
сохраняемых после десятичной
точки в значении секунд. Для
всех других типов данных этот
столбец содержит NULL.
interval_type character_data Если в data_type указан тип
интервала, этот столбец опре-
деляет, какие поля принимает
интервал в домене, например:
YEAR TO MONTH, DAY TO SECOND
и т. д. Если ограничения для по-
лей не заданы (то есть, интер-
вал принимает все поля), и для
любых других типов данных это
поле содержит NULL.
interval_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL (см. поле datetime_
precision , определяющее точ-
ность в долях секунды для типов
интервалов)
domain_default character_data Выражение по умолчанию для
домена
udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных домена (
всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип данных домена
udt_name sql_identifier Имя типа данных домена
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
958Информационная схема
Имя Тип данных Описание
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных целевого доме-
на, уникальный среди всех де-
скрипторов типов, относящих-
ся к домену (что тривиально,
так как домен содержит толь-
ко один дескриптор типа). Он
в основном полезен для соеди-
нения с другими экземплярами
таких идентификаторов. (Кон-
кретный формат идентификато-
ра не определён и не гарантиру-
ется, что он останется неизмен-
ным в будущих версиях.)
37.23. element_types
Представление element_types показывает дескрипторы типов элементов массива. Когда столбец
таблицы, атрибут составного типа, параметр или результат функции объявлены с типом массива,
соответствующее представление информационной схемы будет содержать только ARRAY в столбце
data_type. Чтобы получить информацию о типе элемента массива, можно связать соответствую-
щее представление с данным. Например, просмотреть столбцы таблицы с типами данных и типами
элементов массива (если это применимо) можно так:
SELECT c.column_name, c.data_type, e.data_type AS element_type
FROM information_schema.columns c LEFT JOIN information_schema.element_types e
ON ((c.table_catalog, c.table_schema, c.table_name, 'TABLE', c.dtd_identifier)
= (e.object_catalog, e.object_schema, e.object_name, e.object_type,
e.collection_type_identifier))
WHERE c.table_schema = '...' AND c.table_name = '...'
ORDER BY c.ordinal_position;
Это представление показывает только те объекты, к которым имеет доступ текущий пользователь,
являясь владельцем или имея некоторые права.
Таблица 37.21. Столбцы element_types
Имя Тип данных Описание
object_catalog sql_identifier Имя базы данных, содержащей
объект, связанный с описывае-
мым массивом (всегда текущая
база)
object_schema sql_identifier Имя схемы, содержащей объ-
ект, связанный с описываемым
массивом
object_name sql_identifier Имя объекта, связанного с опи-
сываемым массивом
object_type character_data Тип объекта, связанного с опи-
сываемым массивом: TABLE (
массив задействован в столб-
959Информационная схема
Имя Тип данных Описание
це этой таблицы), USER-DEFINED
TYPE (массив задействован в ат-
рибуте составного типа), DOMAIN
(массив задействован в домене),
ROUTINE (массив задействован в
типе данных параметра или ре-
зультата функции).
collection_type_identifier sql_identifier Идентификатор
дескриптора
типа данных для описываемого
массива. Его можно использо-
вать для соединения со столб-
цами dtd_identifier других
представлений информацион-
ной схемы.
data_type character_data Тип данных элементов массива,
если это встроенный тип, либо
USER-DEFINED (в этом случае тип
определяется в udt_name и свя-
занных столбцах).
character_maximum_length cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
character_octet_length cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Имя базы данных, содержащей
правило сортировки типа эле-
мента (это всегда текущая ба-
за), либо NULL, если это прави-
ло по умолчанию или тип эле-
мента несортируемый
collation_schema sql_identifier Имя схемы, содержащей прави-
ло сортировки типа элемента,
либо NULL, если это правило
по умолчанию или тип элемен-
та несортируемый
collation_name sql_identifier Имя правила сортировки типа
элемента, либо NULL, если это
правило по умолчанию или тип
элемента несортируемый
960Информационная схема
Имя Тип данных Описание
numeric_precision cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
numeric_precision_radix cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
numeric_scale cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
datetime_precision cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
interval_type character_data Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
interval_precision cardinal_number Всегда NULL, так как эта
информация неприменима к
типам элементов массива в
PostgreSQL
domain_default character_data Ещё не реализовано
udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных элемента
(всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип данных элемента
udt_name sql_identifier Имя типа данных элемента
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных элемента. В насто-
ящее время бесполезен.
37.24. enabled_roles
Представление enabled_roles описывает «доступные роли». Список доступных ролей рекурсивно
определяется как роль текущего пользователя плюс роли, данные доступным ролям, с автомати-
961Информационная схема
ческим наследованием. Другими словами, это роли, которые даны текущему пользователю непо-
средственно или косвенно, посредством автоматического наследования.
Для проверки разрешений применяется набор «применимых ролей», который может быть шире
набора доступных ролей. Поэтому в общем случае вместо этого представления лучше использовать
представление applicable_roles (оно описывается в remap="6" Раздел 37.5).
Таблица 37.22. Столбцы enabled_roles
Имя Тип данных Описание
role_name sql_identifier Имя целевой роли
37.25. foreign_data_wrapper_options
Представление foreign_data_wrapper_options показывает все параметры, определённые для
обёрток сторонних данных в текущей базе. В нём отражаются только те обёртки сторонних данных,
к которым имеет доступ текущий пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.23. Столбцы foreign_data_wrapper_options
Имя Тип данных Описание
foreign_data_wrapper_
catalog sql_identifier Имя базы данных, в которой
определена обёртка сторонних
данных (всегда текущая база)
foreign_data_wrapper_name sql_identifier Имя обёртки сторонних данных
option_name sql_identifier Имя параметра
option_value character_data Значение параметра
37.26. foreign_data_wrappers
Представление foreign_data_wrappers показывает все обёртки сторонних данных, определённые
в текущей базе. В нём показываются только те обёртки сторонних данных, к которым имеет доступ
текущий пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.24. Столбцы foreign_data_wrappers
Имя Тип данных Описание
foreign_data_wrapper_
catalog sql_identifier Имя базы данных, в которой
определена обёртка сторонних
данных (всегда текущая база)
foreign_data_wrapper_name sql_identifier Имя обёртки сторонних данных
authorization_identifier sql_identifier Имя владельца стороннего сер-
вера
library_name character_data Имя файла библиотеки, реали-
зующей эту обёртку сторонних
данных
foreign_data_wrapper_
language character_data Язык, на котором реализована
эта обёртка сторонних данных
37.27. foreign_server_options
Представление foreign_server_options показывает все параметры, определённые для сторонних
серверов в текущей базе данных. В нём отражаются только те сторонние серверы, к которым имеет
доступ текущий пользователь (являясь их владельцем или имея некоторые права).
962Информационная схема
Таблица 37.25. Столбцы foreign_server_options
Имя Тип данных Описание
foreign_server_catalog sql_identifier Имя базы данных, в которой
определён сторонний сервер (
всегда текущая база)
foreign_server_name sql_identifier Имя стороннего сервера
option_name sql_identifier Имя параметра
option_value character_data Значение параметра
37.28. foreign_servers
Представление foreign_servers показывает все сторонние серверы, определённые в текущей ба-
зе данных. В нём показываются только те сторонние серверы, к которым имеет доступ текущий
пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.26. Столбцы foreign_servers
Имя Тип данных Описание
foreign_server_catalog sql_identifier Имя базы данных, в которой
определён сторонний сервер (
всегда текущая база)
foreign_server_name sql_identifier Имя стороннего сервера
foreign_data_wrapper_
catalog sql_identifier Имя базы данных, в которой
определена обёртка сторонних
данных, используемая сторон-
ним сервером (всегда текущая
база)
foreign_data_wrapper_name sql_identifier Имя обёртки сторонних данных,
используемой сторонним серве-
ром
foreign_server_type character_data Информация о типе стороннего
сервера, если она была указана
при его создании
foreign_server_version character_data Информация о версии сторонне-
го сервера, если она была указа-
на при его создании
authorization_identifier sql_identifier Имя владельца стороннего сер-
вера
37.29. foreign_table_options
Представление foreign_table_options показывает все параметры, определённые для сторонних
таблиц в текущей базе данных. В нём отражаются только те сторонние таблицы, к которым имеет
доступ текущий пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.27. Столбцы foreign_table_options
Имя Тип данных Описание
foreign_table_catalog sql_identifier Имя базы данных, содержащей
стороннюю таблицу (всегда те-
кущая база)
foreign_table_schema sql_identifier Имя схемы, содержащей сто-
роннюю таблицу
963Информационная схема
Имя Тип данных Описание
foreign_table_name sql_identifier Имя сторонней таблицы
option_name sql_identifier Имя параметра
option_value character_data Значение параметра
37.30. foreign_tables
Представление foreign_tables показывает все сторонние таблицы, определённые в текущей ба-
зе данных. В нём показываются только те сторонние таблицы, к которым имеет доступ текущий
пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.28. Столбцы foreign_tables
Имя Тип данных Описание
foreign_table_catalog sql_identifier Имя базы данных, в которой
определена сторонняя таблица
(всегда текущая база)
foreign_table_schema sql_identifier Имя схемы, содержащей сто-
роннюю таблицу
foreign_table_name sql_identifier Имя сторонней таблицы
foreign_server_catalog sql_identifier Имя базы данных, в которой
определён сторонний сервер (
всегда текущая база)
foreign_server_name sql_identifier Имя стороннего сервера
37.31. key_column_usage
Представление key_column_usage описывает все столбцы в текущей базе, с которыми связано ка-
кое-либо ограничение уникальности, либо ограничение первичного или внешнего ключа. Ограни-
чения-проверки в этом представлении не показываются. В нём показываются только те столбцы,
к которым имеет доступ текущий пользователь (являясь владельцем или имея некоторые права).
Таблица 37.29. Столбцы key_column_usage
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
table_catalog sql_identifier Имя базы данных, содержащей
таблицу со столбцом, подчиня-
ющимся этому ограничению (
всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу со столбцом, подчиняющим-
ся этому ограничению
table_name sql_identifier Имя таблицы со столбцом, под-
чиняющимся этому ограниче-
нию
column_name sql_identifier Имя столбца, подчиняющегося
этому ограничению
964Информационная схема
Имя Тип данных Описание
ordinal_position cardinal_number Порядковый номер столбца в
ключе ограничения (нумерация
начинается с 1)
position_in_unique_
constraint cardinal_number Для ограничения внешнего
ключа это порядковый номер
целевого столбца в его огра-
ничении уникальности (нумера-
ция начинается с 1); в против-
ном случае NULL
37.32. parameters
Представление parameters содержит информацию о параметрах (аргументах) всех функций в те-
кущей базе данных. В нём отражаются только функции, к которым имеет доступ текущий пользо-
ватель (являясь владельцем или имея некоторые права).
Таблица 37.30. Столбцы parameters
Имя Тип данных Описание
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
ordinal_position cardinal_number Порядковый номер параметра
в списке аргументов функции (
нумерация начинается с 1)
parameter_mode character_data IN для входного параметра, OUT
для выходного, INOUT — для
входного и выходного парамет-
ра.
is_result yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
as_locator yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
parameter_name sql_identifier Имя параметра, либо NULL, ес-
ли параметр безымянный
data_type character_data Тип данных параметра, если это
встроенный тип, либо ARRAY,
если это массив (в этом слу-
чае обратитесь к представле-
нию element_types ), иначе —
USER-DEFINED (в этом случае тип
определяется в udt_name и свя-
занных столбцах).
character_maximum_length cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
965Информационная схема
Имя Тип данных Описание
character_octet_length cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
collation_schema sql_identifier Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
collation_name sql_identifier Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
numeric_precision cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
numeric_precision_radix cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
numeric_scale cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
datetime_precision cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
interval_type character_data Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
interval_precision cardinal_number Всегда NULL, так как эта ин-
формация не применима к ти-
пам параметров в PostgreSQL
udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных парамет-
ра (всегда текущая база)
udt_schema sql_identifier Имя схемы, в которой опреде-
лён тип данных параметра
udt_name sql_identifier Имя типа данных параметра
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
966Информационная схема
Имя Тип данных Описание
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных параметра, уни-
кальный среди всех дескрипто-
ров типов, относящихся к функ-
ции. Он в основном полезен для
соединения с другими экзем-
плярами таких идентификато-
ров. (Конкретный формат иден-
тификатора не определён и не
гарантируется, что он останет-
ся неизменным в будущих вер-
сиях.)
parameter_default character_data Выражение параметра по умол-
чанию, либо NULL, если тако-
го выражения нет или функция
не принадлежит текущей актив-
ной роли.
37.33. referential_constraints
Представление referential_constraints содержит все ссылочные ограничения (внешнего ключа)
в текущей базе данных. В нём показываются только ограничения, в которых ссылающаяся таблица
доступна текущему пользователю на запись (он является её владельцем или имеет не только право
SELECT).
Таблица 37.31. Столбцы referential_constraints
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
unique_constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение уникальности или
первичный ключ, на которые
ссылается ограничение внеш-
него ключа (всегда текущая ба-
за)
unique_constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение уникальности или пер-
вичный ключ, на которые ссы-
967Информационная схема
Имя Тип данных Описание
лается ограничение внешнего
ключа
unique_constraint_name sql_identifier Имя ограничения уникальности
или первичного ключа, на ко-
торые ссылается ограничение
внешнего ключа
match_option character_data Тип совпадения для ограни-
чения внешнего ключа: FULL,
PARTIAL или NONE.
update_rule character_data Правило изменения для огра-
ничения
внешнего
ключа:
CASCADE, SET NULL, SET DEFAULT,
RESTRICT или NO ACTION.
delete_rule character_data Правило удаления для огра-
ничения
внешнего
ключа:
CASCADE, SET NULL, SET DEFAULT,
RESTRICT или NO ACTION.
37.34. role_column_grants
Представление role_column_grants описывает все назначенные для столбцов права, в которых
праводателем или правообладателем является текущая активная роль. Дополнительную информа-
цию можно найти в column_privileges. Единственное существенное отличие этого представления
от column_privileges состоит в том, что в данном представлении опускаются столбцы, которые
доступны текущему пользователю косвенно через роль PUBLIC.
Таблица 37.32. Столбцы role_column_grants
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
table_catalog sql_identifier Имя базы данных, содержащей
таблицу с этим столбцом (все-
гда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу с этим столбцом
table_name sql_identifier Имя таблицы с этим столбцом
column_name sql_identifier Имя столбца
privilege_type character_data Тип права: SELECT, INSERT,
UPDATE или REFERENCES
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.35. role_routine_grants
Представление role_routine_grants описывает все назначенные для функций права, в которых
праводателем или правообладателем является текущая активная роль. Дополнительную информа-
цию можно найти в routine_privileges. Единственное существенное отличие этого представле-
968Информационная схема
ния от routine_privileges состоит в том, что в данном представлении опускаются функции, ко-
торые доступны текущему пользователю косвенно через роль PUBLIC.
Таблица 37.33. Столбцы role_routine_grants
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
routine_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
routine_schema sql_identifier Имя схемы, содержащей функ-
цию
routine_name sql_identifier Имя функции (может дублиро-
ваться в случае перегрузки)
privilege_type character_data Всегда EXECUTE (единственный
тип прав для функций)
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.36. role_table_grants
Представление role_table_grants описывает все назначенные для таблиц и представлений права,
в которых праводателем или правообладателем является текущая активная роль. Дополнительную
информацию можно найти в table_privileges. Единственное существенное отличие этого пред-
ставления от table_privileges состоит в том, что в данном представлении опускаются таблицы,
которые доступны текущему пользователю косвенно через роль PUBLIC.
Таблица 37.34. Столбцы role_table_grants
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
privilege_type character_data Тип права: SELECT, INSERT,
UPDATE, DELETE, TRUNCATE,
REFERENCES или TRIGGER
969Информационная схема
Имя Тип данных Описание
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
with_hierarchy yes_or_no В стандарте SQL имеется от-
дельное подчинённое разреше-
ние WITH HIERARCHY OPTION,
позволяющее выполнять опре-
делённые операции в иерар-
хии наследования таблиц. В
PostgreSQL так действует пра-
во SELECT, так что в этом столб-
це выводится YES для права
SELECT, а для других — NO.
37.37. role_udt_grants
Представление role_udt_grants предназначено для отображения прав USAGE, назначенных для
пользовательских типов, в которых праводателем или правообладателем является текущая актив-
ная роль. Дополнительную информацию можно найти в udt_privileges. Единственное существен-
ное отличие этого представления от udt_privileges состоит в том, что в данном представлении
опускаются объекты, которые доступны текущему пользователю косвенно через роль PUBLIC. Так
как с типами данных не связываются действующие права в PostgreSQL (только PUBLIC неявно да-
ётся право их использования), это представление пустое.
Таблица 37.35. Столбцы role_udt_grants
Имя Тип данных Описание
grantor sql_identifier Имя роли, которая дала это пра-
во
grantee sql_identifier Имя роли, которой было дано
это право
udt_catalog sql_identifier Имя базы данных, содержащей
тип (всегда текущая база)
udt_schema sql_identifier Имя схемы, содержащей тип
udt_name sql_identifier Имя типа
privilege_type character_data Всегда TYPE USAGE
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.38. role_usage_grants
Представление role_usage_grants описывает права USAGE, назначенные для объектов различных
типов, в которых праводателем или правообладателем является текущая активная роль. Допол-
нительную информацию можно найти в usage_privileges. Единственное существенное отличие
этого представления от usage_privileges состоит в том, что в данном представлении опускаются
объекты, которые доступны текущему пользователю косвенно через роль PUBLIC.
Таблица 37.36. Столбцы role_usage_grants
Имя Тип данных Описание
grantor sql_identifier Имя роли, которая дала это пра-
во
970Информационная схема
Имя Тип данных Описание
grantee sql_identifier Имя роли, которой было дано
это право
object_catalog sql_identifier Имя базы данных, содержащей
объект (всегда текущая база)
object_schema sql_identifier Имя схемы, содержащей объ-
ект, если это применимо, иначе
пустая строка
object_name sql_identifier Имя объекта
object_type character_data COLLATION или DOMAIN или
FOREIGN
DATA
WRAPPER или
FOREIGN SERVER или SEQUENCE
privilege_type character_data Всегда USAGE
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.39. routine_privileges
Представление routine_privileges описывает все права, назначенные текущей активной роли
или текущей активной ролью для функций. Оно содержит отдельный столбец для каждой комби-
нации функции, праводателя и правообладателя.
Таблица 37.37. Столбцы routine_privileges
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
routine_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
routine_schema sql_identifier Имя схемы, содержащей функ-
цию
routine_name sql_identifier Имя функции (может дублиро-
ваться в случае перегрузки)
privilege_type character_data Всегда EXECUTE (единственный
тип прав для функций)
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
971Информационная схема
37.40. routines
Представление routines отображает все функции и процедуры в текущей базе данных. В нём по-
казываются только те функции и процедуры, к которым имеет доступ текущий пользователь (яв-
ляясь владельцем или имея некоторые права).
Таблица 37.38. Столбцы routines
Имя Тип данных Описание
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Это имя однозначным образом
идентифицирует функцию в схе-
ме, даже если реальное имя
функции перегружено. Формат
однозначных имён не опреде-
лён, так что его следует исполь-
зовать только для сравнения
с другими экземплярами одно-
значных имён подпрограмм.
routine_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
routine_schema sql_identifier Имя схемы, содержащей функ-
цию
routine_name sql_identifier Имя функции (может дублиро-
ваться в случае перегрузки)
routine_type character_data FUNCTION
для
функций,
PROCEDURE для процедур
module_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
module_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
module_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
udt_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
udt_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
udt_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
data_type character_data Тип данных результата функ-
ции, если это встроенный тип,
либо ARRAY, если это мас-
сив (в этом случае обрати-
972Информационная схема
Имя Тип данных Описание
тесь к представлению element_
types ), иначе — USER-DEFINED (
в этом случае тип определяется
в type_udt_name
и связанных
столбцах). Для процедуры дан-
ное поле содержит NULL.
character_maximum_length cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
character_octet_length cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
collation_schema sql_identifier Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
collation_name sql_identifier Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
numeric_precision cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
numeric_precision_radix cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
numeric_scale cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
datetime_precision cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
interval_type character_data Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
interval_precision cardinal_number Всегда NULL, так как эта ин-
формация неприменима к ти-
пам результатов в PostgreSQL
type_udt_catalog sql_identifier Имя базы данных, в которой
определён тип данных резуль-
тата функции (всегда текущая
973Информационная схема
Имя Тип данных Описание
база). Для процедуры данное
поле содержит NULL.
type_udt_schema sql_identifier Имя схемы, в которой опре-
делён тип данных результата
функции. Для процедуры дан-
ное поле содержит NULL.
type_udt_name sql_identifier Имя типа данных результата
функции. Для процедуры дан-
ное поле содержит NULL.
scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
maximum_cardinality cardinal_number Всегда NULL, так как массивы
имеют неограниченную макси-
мальную ёмкость в PostgreSQL
dtd_identifier sql_identifier Идентификатор
дескриптора
типа данных результата функ-
ции, уникальный среди всех де-
скрипторов типов, относящихся
к функции. Он в основном по-
лезен для соединения с други-
ми экземплярами таких иден-
тификаторов. (Конкретный фор-
мат идентификатора не опреде-
лён и не гарантируется, что он
останется неизменным в буду-
щих версиях.)
routine_body character_data Если функция написана на SQL,
это поле содержит SQL, иначе
EXTERNAL.
routine_definition character_data Исходный текст функции (
NULL, если функция не принад-
лежит текущей активной роли).
(Согласно стандарту SQL, этот
столбец актуален, только если в
routine_body указано SQL, но в
PostgreSQL он будет содержать
любой исходный текст, задан-
ный при создании функции.)
external_name character_data Если это функция на C, этот
столбец содержит внешнее имя
(объектный символ) функции,
иначе NULL. (Это будет то же
значение, что содержит стол-
бец routine_definition .)
974Информационная схема
Имя Тип данных Описание
external_language character_data Язык, на
функция
parameter_style character_data Всегда GENERAL (В стандарте
SQL определены и другие сти-
ли параметров, но в PostgreSQL
они отсутствуют.)
is_deterministic yes_or_no Если функция объявлена как по-
стоянная (IMMUTABLE) (в стан-
дарте SQL она называется де-
терминированной), этот стол-
бец содержит YES, иначе — NO.
(Получить другие уровни пере-
менности функций, имеющиеся
в PostgreSQL, через информаци-
онную схему нельзя.)
sql_data_access character_data Всегда MODIFIES, что означа-
ет, что функция может моди-
фицировать данные SQL. Для
PostgreSQL эта информация
бесполезна.
is_null_call yes_or_no Если функция автоматически
возвращает NULL, когда один
из аргументов NULL, этот стол-
бец содержит YES, иначе — NO.
Для процедуры он содержит
NULL.
sql_path character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
schema_level_routine yes_or_no Всегда YES (Другое значение
было бы у методов пользова-
тельских типов, но в PostgreSQL
их нет.)
max_dynamic_result_sets cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_user_defined_cast yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_implicitly_invocable yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
security_type character_data Если функция выполняется с
правами вызывающего пользо-
вателя, этот столбец содержит
INVOKER, а если с правами поль-
зователя, создавшего её, то —
DEFINER.
to_sql_specific_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
975
котором
написанаИнформационная схема
Имя Тип данных Описание
to_sql_specific_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
to_sql_specific_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
as_locator yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
created time_stamp Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
last_altered time_stamp Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
new_savepoint_level yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_udt_dependent yes_or_no В настоящее время всегда NO.
Альтернативное значение YES
связано с возможностями, от-
сутствующими в PostgreSQL.
result_cast_from_data_
type character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_as_locator yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_char_max_
length cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_char_octet_
length character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_char_set_
catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_char_set_
schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_char_set_
name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_collation_
catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_collation_
schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
976Информационная схема
Имя Тип данных Описание
result_cast_collation_
name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_numeric_
precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_numeric_
precision_radix cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_numeric_scale cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_datetime_
precision character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_interval_type character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_interval_
precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_type_udt_
catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_type_udt_
schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_type_udt_
name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_scope_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_scope_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_scope_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_maximum_
cardinality cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
result_cast_dtd_
identifier sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
37.41. schemata
Представление schemata показывает все схемы в текущей базе данных, к которым имеет доступ
текущий пользователь (являясь их владельцем или имея некоторые права).
977Информационная схема
Таблица 37.39. Столбцы schemata
Имя Тип данных Описание
catalog_name sql_identifier Имя базы данных, содержащей
схему (всегда текущая база)
schema_name sql_identifier Имя схемы
schema_owner sql_identifier Имя владельца схемы
default_character_set_
catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
default_character_set_
schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
default_character_set_
name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
sql_path character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
37.42. sequences
Представление sequences показывает все последовательности, определённые в текущей базе дан-
ных. В нём показываются только те последовательности, к которым имеет доступ текущий поль-
зователь (являясь владельцем или имея некоторые права).
Таблица 37.40. Столбцы sequences
Имя Тип данных Описание
sequence_catalog sql_identifier Имя базы данных, содержащей
последовательность (всегда те-
кущая база)
sequence_schema sql_identifier Имя схемы, содержащей после-
довательность
sequence_name sql_identifier Имя последовательности
data_type character_data Тип данных последовательно-
сти.
numeric_precision cardinal_number Этот столбец содержит точ-
ность (объявленную или неяв-
ную) типа данных последова-
тельности (см. выше). Точность
определяет число значащих
цифр. Она может выражаться
в десятичных (по основанию
10) или двоичных (по основа-
нию 2) цифрах, согласно столб-
цу numeric_precision_radix .
numeric_precision_radix cardinal_number Этот столбец определяет, по ка-
кому основанию задаются зна-
чения в столбцах numeric_
precision и numeric_scale .
Возможные варианты: 2 и 10.
numeric_scale cardinal_number Этот столбец содержит мас-
штаб (объявленный или неяв-
978Информационная схема
Имя Тип данных Описание
ный) типа данных последова-
тельности (см. выше). Мас-
штаб определяет число знача-
щих цифр справа от десятич-
ной точки. Он может выражать-
ся в десятичных (по основанию
10) или двоичных (по основа-
нию 2) цифрах, согласно столб-
цу numeric_precision_radix .
start_value character_data Начальное значение последова-
тельности
minimum_value character_data Минимальное значение после-
довательности
maximum_value character_data Максимальное значение после-
довательности
increment character_data Шаг увеличения
тельности
cycle_option yes_or_no YES, если последовательность
зацикливается, или NO в против-
ном случае
последова-
Заметьте, что, согласно стандарту SQL, начальное, минимальное, максимальное значение и шаг
выдаются в виде символьных строк.
37.43. sql_features
Таблица sql_features содержит информацию о формальной функциональности, описанной в стан-
дарте и поддерживаемой PostgreSQL. Эта же информация представлена в Приложении D. Там вы
можете найти и дополнительные сведения.
Таблица 37.41. Столбцы sql_features
Имя Тип данных Описание
feature_id character_data Строка идентификатора функ-
циональности
feature_name character_data Описательное название функ-
циональности
sub_feature_id character_data Строка идентификатора под-
чинённой возможности, либо
строка нулевой длины, если это
не подчинённая возможность
sub_feature_name character_data Описательное название под-
чинённой возможности, либо
строка нулевой длины, если это
не подчинённая возможность
is_supported yes_or_no YES, если функциональность
полностью поддерживается те-
кущей версией PostgreSQL, ли-
бо NO в противном случае
is_verified_by character_data Всегда NULL, так как группа
разработки PostgreSQL не про-
водит формальное тестирова-
979Информационная схема
Имя Тип данных Описание
ние функционального соответ-
ствия
comments character_data Необязательный комментарий
о поддерживаемом состоянии
функциональности
37.44. sql_implementation_info
Таблица sql_implementation_info содержит информацию о различных аспектах, которые в стан-
дарте SQL оставлены на усмотрение реализации. Эта информация в основном предназначена для
применения в контексте интерфейса ODBC; пользователям других интерфейсов она вряд ли будет
нужна. Поэтому отдельные элементы особенностей реализации здесь не описываются; о них мож-
но прочитать в описании интерфейса ODBC.
Таблица 37.42. Столбцы sql_implementation_info
Имя Тип данных Описание
implementation_info_id character_data Строка идентификатора эле-
мента особенности реализации
implementation_info_name character_data Описательное название элемен-
та особенности реализации
integer_value cardinal_number Значение элемента особенно-
сти реализации, либо NULL, ес-
ли его значение содержится в
столбце character_value
character_value character_data Значение элемента особенно-
сти реализации, либо NULL, ес-
ли его значение содержится в
столбце integer_value
comments character_data Необязательный комментарий,
относящийся к элементу осо-
бенности реализации
37.45. sql_languages
Таблица sql_languages содержит одну строку для каждой привязки языка SQL, поддерживаемой
PostgreSQL. PostgreSQL поддерживает непосредственный SQL и SQL, встроенный в C; это всё, что
можно получить из этой таблицы.
Эта таблица была исключена из стандарта SQL в версии SQL:2008, так что она не содержит запи-
сей, относящихся к стандартам новее SQL:2003.
Таблица 37.43. Столбцы sql_languages
Имя Тип данных Описание
sql_language_source character_data Имя источника определения
языка; всегда ISO 9075, то есть
стандарт SQL
sql_language_year character_data Год, в котором был одобрен
стандарт, отмеченный в sql_
language_source .
sql_language_conformance character_data Уровень совместимости со стан-
дартом для привязки языка.
Для ISO 9075:2003 это всегда
CORE.
980Информационная схема
Имя Тип данных Описание
sql_language_integrity character_data Всегда NULL (Это значение бы-
ло актуально для более ранней
версии стандарта SQL.)
sql_language_
implementation character_data Всегда NULL
sql_language_binding_
style character_data Стиль привязки языка: DIRECT
или EMBEDDED
sql_language_programming_
language character_data Язык программирования, если
стиль привязки — EMBEDDED,
иначе NULL. PostgreSQL под-
держивает только язык C.
37.46. sql_packages
Таблица sql_packages содержит информацию о функциональных пакетах, определённых в стан-
дарте SQL и поддерживаемых PostgreSQL. За дополнительными сведениями о функциональных па-
кетах обратитесь к Приложению D.
Таблица 37.44. Столбцы sql_packages
Имя Тип данных Описание
feature_id character_data Строка идентификатора пакета
feature_name character_data Описательное название пакета
is_supported yes_or_no YES, если пакет полностью под-
держивается текущей версией
PostgreSQL, либо NO в против-
ном случае
is_verified_by character_data Всегда NULL, так как группа
разработки PostgreSQL не про-
водит формальное тестирова-
ние функционального соответ-
ствия
comments character_data Необязательный комментарий
о поддерживаемом состоянии
пакета
37.47. sql_parts
Таблица sql_parts содержит информацию о различных частях стандарта SQL, поддерживаемых
PostgreSQL.
Таблица 37.45. Столбцы sql_parts
Имя Тип данных Описание
feature_id character_data Строка идентификатора, содер-
жащая номер части
feature_name character_data Описательное название части
is_supported yes_or_no YES, если часть полностью под-
держивается текущей версией
PostgreSQL, либо NO в против-
ном случае
is_verified_by character_data Всегда NULL, так как группа
разработки PostgreSQL не про-
981Информационная схема
Имя Тип данных Описание
водит формальное тестирова-
ние функционального соответ-
ствия
comments character_data Необязательный комментарий
о поддерживаемом состоянии
части
37.48. sql_sizing
Таблица sql_sizing содержит информацию о различных ограничениях размера и максимальных
значениях в PostgreSQL. Эта информация в основном предназначена для применения в контексте
интерфейса ODBC; пользователям других интерфейсов она вряд ли будет нужна. Поэтому отдель-
ные элементы размеров здесь не описываются; о них можно прочитать в описании интерфейса
ODBC.
Таблица 37.46. Столбцы sql_sizing
Имя Тип данных Описание
sizing_id cardinal_number Идентификатор элемента раз-
меров
sizing_name character_data Описательное название элемен-
та размеров
supported_value cardinal_number Значение элемента размеров,
или 0, если размер неограни-
ченный или не может быть
определён, либо NULL, если
функциональность, к которой
относится размер, не поддер-
живается
comments character_data Необязательный комментарий,
относящийся к элементу разме-
ров
37.49. sql_sizing_profiles
Таблица sql_sizing_profiles содержит информацию о значениях sql_sizing, которые требуются
для различных профилей стандарта SQL. PostgreSQL не ориентируется на профили SQL, поэтому
данная таблица пуста.
Таблица 37.47. Столбцы sql_sizing_profiles
Имя Тип данных Описание
sizing_id cardinal_number Идентификатор элемента раз-
меров
sizing_name character_data Описательное название элемен-
та размеров
profile_id character_data Строка идентификатора профи-
ля
required_value cardinal_number Значение, которое требует про-
филь SQL для этого элемента
размеров, или 0, если профиль
не ограничивает данный эле-
мент, либо NULL, если профиль
не требует наличия функцио-
982Информационная схема
Имя Тип данных Описание
нальности, для которой приме-
ним этот элемент
comments character_data Необязательный комментарий,
относящийся к элементу разме-
ров в профиле
37.50. table_constraints
Представление table_constraints показывает все ограничения, принадлежащие таблицам, к ко-
торым имеет доступ текущий пользователь (являясь владельцем или имея некоторые права, кроме
SELECT).
Таблица 37.48. Столбцы table_constraints
Имя Тип данных Описание
constraint_catalog sql_identifier Имя базы данных, содержащей
ограничение (всегда текущая
база)
constraint_schema sql_identifier Имя схемы, содержащей огра-
ничение
constraint_name sql_identifier Имя ограничения
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
constraint_type character_data Тип
ограничения:
CHECK,
FOREIGN KEY, PRIMARY KEY или
UNIQUE
is_deferrable yes_or_no YES, если ограничение отклады-
ваемое, или NO в противном слу-
чае
initially_deferred yes_or_no YES, если ограничение отклады-
ваемое и отложенное изначаль-
но, или NO в противном случае
enforced yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL (в настоящее время
всегда равно YES)
37.51. table_privileges
Представление table_privileges описывает все права, назначенные текущей активной роли или
текущей активной ролью для таблиц и представлений. Оно содержит отдельную строку для каждой
комбинации таблицы, праводателя и правообладателя.
Таблица 37.49. Столбцы table_privileges
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
983Информационная схема
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
privilege_type character_data Тип права: SELECT, INSERT,
UPDATE, DELETE, TRUNCATE,
REFERENCES или TRIGGER
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
with_hierarchy yes_or_no В стандарте SQL имеется от-
дельное подчинённое разреше-
ние WITH HIERARCHY OPTION,
позволяющее выполнять опре-
делённые операции в иерар-
хии наследования таблиц. В
PostgreSQL так действует пра-
во SELECT, так что в этом столб-
це выводится YES для права
SELECT, а для других — NO.
37.52. tables
Представление tables показывает все таблицы и представления, определённые в текущей базе
данных. В нём показываются только те таблицы и представления, к которым имеет доступ текущий
пользователь (являясь их владельцем или имея некоторые права).
Таблица 37.50. Столбцы tables
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
таблицу (всегда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу
table_name sql_identifier Имя таблицы
table_type character_data Тип таблицы: BASE TABLE для
постоянных базовых таблиц (
таблиц обычного типа), VIEW
для представлений, FOREIGN для
сторонних таблиц, либо LOCAL
TEMPORARY для временных таб-
лиц
self_referencing_column_
name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
reference_generation character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
user_defined_type_catalog sql_identifier Если таблица является типизи-
рованной, это имя базы данных,
содержащей нижележащий тип
984Информационная схема
Имя Тип данных Описание
данных (всегда текущая база),
иначе NULL.
user_defined_type_schema sql_identifier Если таблица является типизи-
рованной, это имя схемы, содер-
жащей нижележащий тип дан-
ных, иначе NULL.
user_defined_type_name sql_identifier Если таблица является типизи-
рованной, это имя типа данных,
иначе NULL.
is_insertable_into yes_or_no YES, если в эту таблицу можно
добавлять данные, или NO в про-
тивном случае (Базовые табли-
цы всегда допускают добавле-
ние данных, но представления
— не обязательно.)
is_typed yes_or_no YES, если эта таблица является
типизированной, иначе NO
commit_action character_data Ещё не реализовано
37.53. transforms
Представление transforms содержит информацию о трансформациях, определённых в текущей
базе данных. Более точно, оно содержит строку для каждой функции, задействованной в транс-
формации (функцию «из SQL» или «в SQL»).
Таблица 37.51. Столбцы transforms
Имя Тип данных Описание
udt_catalog sql_identifier Имя базы данных, содержащей
тип, для которого предназначе-
на трансформация (всегда теку-
щая база)
udt_schema sql_identifier Имя схемы, содержащей тип,
для которого предназначена
трансформация
udt_name sql_identifier Имя типа, для которого предна-
значена трансформация
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
group_name sql_identifier Стандарт SQL позволяет опре-
делять «группы» трансформа-
ций и выбирать группу во вре-
мя выполнения. PostgreSQL это
не поддерживает. Вместо этого
трансформации привязываются
к языкам. В качестве компро-
мисса со стандартом, это по-
985Информационная схема
Имя Тип данных Описание
ле содержит язык, для которого
предназначена трансформация.
transform_type character_data FROM SQL или TO SQL
37.54. triggered_update_columns
Для триггеров в текущей базе данных, установленных для списка столбцов (например, UPDATE OF
column1, column2), представление triggered_update_columns показывает эти столбцы. Триггеры,
для которых не задаётся список столбцов, в этом представлении не отражаются. В нём показыва-
ются только столбцы, доступные текущему пользователю (как владельцу или имеющему некото-
рые права, кроме SELECT).
Таблица 37.52. Столбцы triggered_update_columns
Имя Тип данных Описание
trigger_catalog sql_identifier Имя базы данных, содержащей
триггер (всегда текущая база)
trigger_schema sql_identifier Имя схемы, содержащей триг-
гер
trigger_name sql_identifier Имя триггера
event_object_catalog sql_identifier Имя базы данных, содержащей
таблицу, для которой определён
триггер (всегда текущая база)
event_object_schema sql_identifier Имя схемы, содержащей табли-
цу, для которой определён триг-
гер
event_object_table sql_identifier Имя таблицы, для которой опре-
делён триггер
event_object_column sql_identifier Имя столбца, для
определён триггер
которого
37.55. triggers
Представление triggers показывает все триггеры, определённые в текущей базе данных для таб-
лиц и представлений, к которым имеет доступ текущий пользователь (являясь владельцем или
имея некоторые права, кроме SELECT).
Таблица 37.53. Столбцы triggers
Имя Тип данных Описание
trigger_catalog sql_identifier Имя базы данных, содержащей
триггер (всегда текущая база)
trigger_schema sql_identifier Имя схемы, содержащей триг-
гер
trigger_name sql_identifier Имя триггера
event_manipulation character_data Событие, вызывающие срабаты-
вание триггера (INSERT, UPDATE
или DELETE)
event_object_catalog sql_identifier Имя базы данных, содержащей
таблицу, для которой определён
триггер (всегда текущая база)
986Информационная схема
Имя Тип данных Описание
event_object_schema sql_identifier Имя схемы, содержащей табли-
цу, для которой определён триг-
гер
event_object_table sql_identifier Имя таблицы, для которой опре-
делён триггер
action_order cardinal_number Порядок срабатывания триг-
геров, имеющих одинаковые
свойства event_manipulation ,
action_timing
и action_
orientation . В PostgreSQL
триггеры срабатывают по по-
рядку их имён, что и отражает-
ся в этом столбце.
action_condition character_data Условие WHEN триггера, либо
NULL, если его нет (так же
NULL, если таблица не принад-
лежит текущей активной роли)
action_statement character_data Оператор, выполняемый триг-
гером (в настоящее время все-
гда EXECUTE FUNCTION функ-
ция(...) )
action_orientation character_data Определяет, срабатывает ли
триггер для каждой обрабаты-
ваемой строки или только для
каждого оператора (ROW или
STATEMENT)
action_timing character_data Момент срабатывания триггера
(BEFORE (до), AFTER (после) или
INSTEAD OF (вместо))
action_reference_old_
table sql_identifier Имя «старой» переходной таб-
лицы либо NULL, если её нет
action_reference_new_
table sql_identifier Имя «новой» переходной табли-
цы либо NULL, если её нет
action_reference_old_row sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
action_reference_new_row sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
created time_stamp Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
Триггеры в PostgreSQL несовместимы со стандартом в двух аспектах, которые влияют на их пред-
ставление в информационной схеме. Во-первых, имена триггеров являются локальными для каж-
дой таблицы в PostgreSQL, а не независимыми объектами схемы. Таким образом, в одной схеме
могут быть дублирующиеся имена триггеров, если они принадлежат разным таблицам. (Значения
trigger_catalog и trigger_schema на самом деле относятся к таблице, для которой определён
триггер.) Во-вторых, триггеры в PostgreSQL могут срабатывать при нескольких событиях (напри-
мер, ON INSERT OR UPDATE), тогда как стандарт SQL допускает только одно событие. Если триггер
настроен на несколько событий, он представляется в информационной схеме в виде нескольких
строк, по одной для каждого типа события. Вследствие этих двух особенностей, первичный ключ в
987Информационная схема
представлении triggers на самом деле (trigger_catalog, trigger_schema, event_object_table,
trigger_name, event_manipulation), а не (trigger_catalog, trigger_schema, trigger_name),
как должно быть согласно стандарту SQL. Однако, если определять триггеры в строгом соответ-
ствии со стандартом SQL (чтобы имена триггеров были уникальны в схеме и каждый триггер свя-
зывался только с одним событием), это расхождение никак не проявится.
Примечание
До
PostgreSQL
9.1
в
этом
представлении
столбцы
action_timing,
action_reference_old_table,
action_reference_new_table,
action_reference_old_row
и
action_reference_new_row
назывались
condition_timing, condition_reference_old_table, condition_reference_new_table,
condition_reference_old_row и condition_reference_new_row, соответственно. Ста-
рые имена были продиктованы стандартом SQL:1999. Новые имена соответствуют стан-
дарту SQL:2003 и более поздним.
37.56. udt_privileges
Представление udt_privileges описывает права USAGE, назначенные текущей активной роли или
текущей активной ролью для пользовательских типов. Оно содержит отдельную строку для каж-
дой комбинации типа, праводателя и правообладателя. Это представление показывает только со-
ставные типы (почему, говорится в Разделе 37.58); права, затрагивающие домены, описаны в Раз-
деле 37.57.
Таблица 37.54. Столбцы udt_privileges
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
udt_catalog sql_identifier Имя базы данных, содержащей
тип (всегда текущая база)
udt_schema sql_identifier Имя схемы, содержащей тип
udt_name sql_identifier Имя типа
privilege_type character_data Всегда TYPE USAGE
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.57. usage_privileges
Представление usage_privileges описывает права USAGE, назначенные текущей активной роли
или текущей активной ролью для различных типов объектов. В PostgreSQL на данный момент это
правила сортировки, домены, обёртки сторонних данных, сторонние серверы и последовательно-
сти. Оно содержит отдельную строку для каждой комбинации объекта, праводателя и правообла-
дателя.
Так как с правилами сортировки в PostgreSQL не связаны никакие действующие права, в этом
представлении показываются фиктивные права USAGE, якобы назначенные владельцем базы роли
PUBLIC для всех правил сортировки. Для других типов объектов, однако, в нём показываются фак-
тические права.
В PostgreSQL для последовательностей могут назначаться права SELECT и UPDATE, в дополнение к
USAGE. Но это нестандартные права и поэтому в информационной схеме они не видны.
988Информационная схема
Таблица 37.55. Столбцы usage_privileges
Имя Тип данных Описание
grantor sql_identifier Имя роли, давшей право (право-
датель)
grantee sql_identifier Имя роли, которой было дано
право (правообладатель)
object_catalog sql_identifier Имя базы данных, содержащей
объект (всегда текущая база)
object_schema sql_identifier Имя схемы, содержащей объ-
ект, если это применимо, иначе
пустая строка
object_name sql_identifier Имя объекта
object_type character_data COLLATION или DOMAIN или
FOREIGN
DATA
WRAPPER или
FOREIGN SERVER или SEQUENCE
privilege_type character_data Всегда USAGE
is_grantable yes_or_no YES, если право может переда-
ваться, или NO в противном слу-
чае
37.58. user_defined_types
Представление user_defined_types в данное время показывает все составные типы, определённые
в текущей базе данных. В нём показываются только те типы, к которым имеет доступ текущий
пользователь (являясь владельцем или имея некоторые права).
SQL знает два вида пользовательских типов: структурные типы (также называются составными
типами в PostgreSQL) и отдельные типы (не реализованы в PostgreSQL). Для уверенности в буду-
щем, нужно обратиться к столбцу user_defined_type_category, чтобы различить их. Другие поль-
зовательские типы, как например, базовые типы и перечисления, относящиеся к расширениям
PostgreSQL, в этом представлении не показываются. О доменах можно узнать в Разделе 37.22.
Таблица 37.56. Столбцы user_defined_types
Имя Тип данных Описание
user_defined_type_catalog sql_identifier Имя базы данных, содержащей
тип (всегда текущая база)
user_defined_type_schema sql_identifier Имя схемы, содержащей тип
user_defined_type_name sql_identifier Имя типа
user_defined_type_
category character_data На данный
STRUCTURED
is_instantiable yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_final yes_or_no Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
ordering_form character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
989
момент
всегдаИнформационная схема
Имя Тип данных Описание
ordering_category character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
ordering_routine_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
ordering_routine_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
ordering_routine_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
reference_type character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
data_type character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_maximum_length cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_octet_length cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
character_set_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_catalog sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_schema sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
collation_name sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
numeric_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
numeric_precision_radix cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
990Информационная схема
Имя Тип данных Описание
numeric_scale cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
datetime_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
interval_type character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
interval_precision cardinal_number Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
source_dtd_identifier sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
ref_dtd_identifier sql_identifier Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
37.59. user_mapping_options
Представление user_mapping_options показывает все параметры, заданные для сопоставлений
пользователей в текущей базе данных. В нём отражаются только сопоставления пользователей,
установленные для сторонних серверов, к которым имеет доступ текущий пользователь (являясь
владельцем или имея некоторые права).
Таблица 37.57. Столбцы user_mapping_options
Имя Тип данных Описание
authorization_identifier sql_identifier Имя сопоставляемого пользова-
теля, либо PUBLIC, если это со-
поставление для всех
foreign_server_catalog sql_identifier Имя базы данных, в которой
определён сторонний сервер,
задействованный в сопоставле-
нии (всегда текущая база)
foreign_server_name sql_identifier Имя стороннего сервера, задей-
ствованного в сопоставлении
option_name sql_identifier Имя параметра
option_value character_data Значение параметра. Этот стол-
бец будет содержать не NULL,
только если описывается сопо-
ставление текущего пользова-
теля, либо это сопоставление
для PUBLIC, а текущий поль-
зователь — владелец сторонне-
го сервера или суперпользова-
тель. Данное ограничение вве-
дено для защиты информации о
пароле, сохранённой в парамет-
рах сопоставления.
991Информационная схема
37.60. user_mappings
Представление user_mappings показывает все сопоставления пользователей, определённые в те-
кущей базе данных. В нём показываются только сопоставления, установленные для сторонних сер-
веров, к которым имеет доступ текущий пользователь (являясь владельцем или имея некоторые
права).
Таблица 37.58. Столбцы user_mappings
Имя Тип данных Описание
authorization_identifier sql_identifier Имя сопоставляемого пользова-
теля, либо PUBLIC, если это со-
поставление для всех
foreign_server_catalog sql_identifier Имя базы данных, в которой
определён сторонний сервер,
задействованный в сопоставле-
нии (всегда текущая база)
foreign_server_name sql_identifier Имя стороннего сервера, задей-
ствованного в сопоставлении
37.61. view_column_usage
Представление view_column_usage описывает все столбцы, задействованные в выражении запро-
са представления (операторе SELECT, определяющем представление). Столбец выводится в этом
списке, только если содержащая его таблица принадлежит текущей активной роли.
Примечание
Столбцы системных таблиц в этом представлении не отображаются. Это может быть
исправлено позже.
Таблица 37.59. Столбцы view_column_usage
Имя Тип данных Описание
view_catalog sql_identifier Имя базы данных, содержащей
представление (всегда текущая
база)
view_schema sql_identifier Имя схемы, содержащей пред-
ставление
view_name sql_identifier Имя представления
table_catalog sql_identifier Имя базы данных, содержащей
таблицу со столбцом, задейство-
ванным в представлении (все-
гда текущая база)
table_schema sql_identifier Имя схемы, содержащей табли-
цу со столбцом, задействован-
ным в представлении
table_name sql_identifier Имя таблицы со столбцом, за-
действованным в представле-
нии
column_name sql_identifier Имя столбца, задействованного
в представлении
992Информационная схема
37.62. view_routine_usage
Представление view_routine_usage описывает все подпрограммы (функции и процедуры), исполь-
зуемые в выражении запроса представления (операторе SELECT, определяющем представление).
Подпрограмма выводится в этом списке, только если она принадлежит текущей активной роли.
Таблица 37.60. Столбцы view_routine_usage
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
представление (всегда текущая
база)
table_schema sql_identifier Имя схемы, содержащей пред-
ставление
table_name sql_identifier Имя представления
specific_catalog sql_identifier Имя базы данных, содержащей
функцию (всегда текущая база)
specific_schema sql_identifier Имя схемы, содержащей функ-
цию
specific_name sql_identifier «Однозначное имя» функции.
Подробнее оно описано в Разде-
ле 37.40.
37.63. view_table_usage
Представление view_table_usage описывает все таблицы, задействованные в выражении запро-
са представления (операторе SELECT, определяющем представление). Таблица выводится в этом
списке, только если она принадлежит текущей активной роли.
Примечание
Системные таблицы в этом представлении не отображаются. Это может быть исправ-
лено позже.
Таблица 37.61. Столбцы view_table_usage
Имя Тип данных Описание
view_catalog sql_identifier Имя базы данных, содержащей
представление (всегда текущая
база)
view_schema sql_identifier Имя схемы, содержащей пред-
ставление
view_name sql_identifier Имя представления
table_catalog sql_identifier Имя базы данных, содержа-
щей таблицу, задействованную
в представлении (всегда теку-
щая база)
table_schema sql_identifier Имя схемы, содержащей таб-
лицу, задействованную в пред-
ставлении
table_name sql_identifier Имя таблицы, задействованной
в представлении
993Информационная схема
37.64. views
Представление views показывает все представления, определённые в текущей базе данных. В нём
показываются только представления, к которым имеет доступ текущий пользователь (являясь вла-
дельцем или имея некоторые права).
Таблица 37.62. Столбцы views
Имя Тип данных Описание
table_catalog sql_identifier Имя базы данных, содержащей
представление (всегда текущая
база)
table_schema sql_identifier Имя схемы, содержащей пред-
ставление
table_name sql_identifier Имя представления
view_definition character_data Выражение запроса, определя-
ющее представление (NULL, ес-
ли представление не принадле-
жит текущей активной роли)
check_option character_data Относится
к
функциональ-
ности,
отсутствующей
в
PostgreSQL
is_updatable yes_or_no YES, если представление до-
пускает изменение (команды
UPDATE и DELETE), или NO в про-
тивном случае
is_insertable_into yes_or_no YES, если представление допус-
кает добавление данных (ко-
манду INSERT), или NO в против-
ном случае
is_trigger_updatable yes_or_no YES, если для представления
определён триггер INSTEAD OF
UPDATE, или NO в противном слу-
чае
is_trigger_deletable yes_or_no YES, если для представления
определён триггер INSTEAD OF
DELETE, или NO в противном слу-
чае
is_trigger_insertable_
into yes_or_no YES, если для представления
определён триггер INSTEAD OF
INSERT, или NO в противном слу-
чае
994
